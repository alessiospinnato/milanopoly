(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},gl={};var w_;function yA(){if(w_)return gl;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var R_;function _A(){return R_||(R_=1,Nd.exports=yA()),Nd.exports}var $=_A(),Dd={exports:{}},Tt={};var I_;function vA(){if(I_)return Tt;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function lt(O,K,it){this.props=O,this.context=K,this.refs=J,this.updater=it||Y}lt.prototype.isReactComponent={},lt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},lt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function dt(){}dt.prototype=lt.prototype;function ht(O,K,it){this.props=O,this.context=K,this.refs=J,this.updater=it||Y}var qt=ht.prototype=new dt;qt.constructor=ht,W(qt,lt.prototype),qt.isPureReactComponent=!0;var et=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(O,K,it){var at=it.ref;return{$$typeof:r,type:O,key:K,ref:at!==void 0?at:null,props:it}}function M(O,K){return w(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var I=/\/+/g;function ie(O,K){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):K.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(st,st):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,it,at,vt){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case t:Ut=!0;break;case A:return Ut=O._init,H(Ut(O._payload),K,it,at,vt)}}if(Ut)return vt=vt(O),Ut=at===""?"."+ie(O,0):at,et(vt)?(it="",Ut!=null&&(it=Ut.replace(I,"$&/")+"/"),H(vt,K,it,"",function(or){return or})):vt!=null&&(N(vt)&&(vt=M(vt,it+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Ut)),K.push(vt)),1;Ut=0;var Ne=at===""?".":at+":";if(et(O))for(var se=0;se<O.length;se++)at=O[se],wt=Ne+ie(at,se),Ut+=H(at,K,it,wt,vt);else if(se=G(O),typeof se=="function")for(O=se.call(O),se=0;!(at=O.next()).done;)at=at.value,wt=Ne+ie(at,se++),Ut+=H(at,K,it,wt,vt);else if(wt==="object"){if(typeof O.then=="function")return H(Ce(O),K,it,at,vt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(O,K,it){if(O==null)return O;var at=[],vt=0;return H(O,at,"","",function(wt){return K.call(it,wt,vt++)}),at}function mt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:nt,forEach:function(O,K,it){nt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=b,Tt.Children=Gt,Tt.Component=lt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=ht,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=W({},O.props),vt=O.key;if(K!=null)for(wt in K.key!==void 0&&(vt=""+K.key),K)!S.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(at[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)at.children=it;else if(1<wt){for(var Ut=Array(wt),Ne=0;Ne<wt;Ne++)Ut[Ne]=arguments[Ne+2];at.children=Ut}return w(O.type,vt,at)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,K,it){var at,vt={},wt=null;if(K!=null)for(at in K.key!==void 0&&(wt=""+K.key),K)S.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=K[at]);var Ut=arguments.length-2;if(Ut===1)vt.children=it;else if(1<Ut){for(var Ne=Array(Ut),se=0;se<Ut;se++)Ne[se]=arguments[se+2];vt.children=Ne}if(O&&O.defaultProps)for(at in Ut=O.defaultProps,Ut)vt[at]===void 0&&(vt[at]=Ut[at]);return w(O,wt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=N,Tt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:mt}},Tt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=R.T,it={};R.T=it;try{var at=O(),vt=R.S;vt!==null&&vt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(st,kt)}catch(wt){kt(wt)}finally{K!==null&&it.types!==null&&(K.types=it.types),R.T=K}},Tt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Tt.use=function(O){return R.H.use(O)},Tt.useActionState=function(O,K,it){return R.H.useActionState(O,K,it)},Tt.useCallback=function(O,K){return R.H.useCallback(O,K)},Tt.useContext=function(O){return R.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return R.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return R.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Tt.useId=function(){return R.H.useId()},Tt.useImperativeHandle=function(O,K,it){return R.H.useImperativeHandle(O,K,it)},Tt.useInsertionEffect=function(O,K){return R.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return R.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return R.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return R.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,it){return R.H.useReducer(O,K,it)},Tt.useRef=function(O){return R.H.useRef(O)},Tt.useState=function(O){return R.H.useState(O)},Tt.useSyncExternalStore=function(O,K,it){return R.H.useSyncExternalStore(O,K,it)},Tt.useTransition=function(){return R.H.useTransition()},Tt.version="19.2.3",Tt}var C_;function _m(){return C_||(C_=1,Dd.exports=vA()),Dd.exports}var me=_m(),Od={exports:{}},pl={},Md={exports:{}},Vd={};var N_;function EA(){return N_||(N_=1,(function(r){function t(H,nt){var mt=H.length;H.push(nt);t:for(;0<mt;){var kt=mt-1>>>1,Gt=H[kt];if(0<l(Gt,nt))H[kt]=nt,H[mt]=Gt,mt=kt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],mt=H.pop();if(mt!==nt){H[0]=mt;t:for(var kt=0,Gt=H.length,O=Gt>>>1;kt<O;){var K=2*(kt+1)-1,it=H[K],at=K+1,vt=H[at];if(0>l(it,mt))at<Gt&&0>l(vt,it)?(H[kt]=vt,H[at]=mt,kt=at):(H[kt]=it,H[K]=mt,kt=K);else if(at<Gt&&0>l(vt,mt))H[kt]=vt,H[at]=mt,kt=at;else break t}}return nt}function l(H,nt){var mt=H.sortIndex-nt.sortIndex;return mt!==0?mt:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,V=3,G=!1,Y=!1,W=!1,J=!1,lt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=H)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function et(H){if(W=!1,qt(H),!Y)if(i(_)!==null)Y=!0,st||(st=!0,x());else{var nt=i(y);nt!==null&&Ce(et,nt.startTime-H)}}var st=!1,R=-1,S=5,w=-1;function M(){return J?!0:!(r.unstable_now()-w<S)}function N(){if(J=!1,st){var H=r.unstable_now();w=H;var nt=!0;try{t:{Y=!1,W&&(W=!1,dt(R),R=-1),G=!0;var mt=V;try{e:{for(qt(H),b=i(_);b!==null&&!(b.expirationTime>H&&M());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,V=b.priorityLevel;var Gt=kt(b.expirationTime<=H);if(H=r.unstable_now(),typeof Gt=="function"){b.callback=Gt,qt(H),nt=!0;break e}b===i(_)&&a(_),qt(H)}else a(_);b=i(_)}if(b!==null)nt=!0;else{var O=i(y);O!==null&&Ce(et,O.startTime-H),nt=!1}}break t}finally{b=null,V=mt,G=!1}nt=void 0}}finally{nt?x():st=!1}}}var x;if(typeof ht=="function")x=function(){ht(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=N,x=function(){ie.postMessage(null)}}else x=function(){lt(N,0)};function Ce(H,nt){R=lt(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var mt=V;V=nt;try{return H()}finally{V=mt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=V;V=H;try{return nt()}finally{V=mt}},r.unstable_scheduleCallback=function(H,nt,mt){var kt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?kt+mt:kt):mt=kt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,H={id:A++,callback:nt,priorityLevel:H,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>kt?(H.sortIndex=mt,t(y,H),i(_)===null&&H===i(y)&&(W?(dt(R),R=-1):W=!0,Ce(et,mt-kt))):(H.sortIndex=Gt,t(_,H),Y||G||(Y=!0,st||(st=!0,x()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var nt=V;return function(){var mt=V;V=nt;try{return H.apply(this,arguments)}finally{V=mt}}}})(Vd)),Vd}var D_;function TA(){return D_||(D_=1,Md.exports=EA()),Md.exports}var xd={exports:{}},Qe={};var O_;function AA(){if(O_)return Qe;O_=1;var r=_m();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Qe.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},Qe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Qe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:b,integrity:V,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Qe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Qe.requestFormReset=function(_){a.d.r(_)},Qe.unstable_batchedUpdates=function(_,y){return _(y)},Qe.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var M_;function SA(){if(M_)return xd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=AA(),xd.exports}var V_;function bA(){if(V_)return pl;V_=1;var r=TA(),t=_m(),i=SA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case lt:return"Profiler";case J:return"StrictMode";case et:return"Suspense";case st:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case ht:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},kt=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=kt[Gt],kt[Gt]=null,Gt--)}function it(e,n){Gt++,kt[Gt]=e.current,e.current=n}var at=O(null),vt=O(null),wt=O(null),Ut=O(null);function Ne(e,n){switch(it(wt,n),it(vt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),it(at,e)}function se(){K(at),K(vt),K(wt)}function or(e){e.memoizedState!==null&&it(Ut,e);var n=at.current,s=Xy(n,e.type);n!==s&&(it(vt,e),it(at,s))}function Kr(e){vt.current===e&&(K(at),K(vt)),Ut.current===e&&(K(Ut),hl._currentValue=mt)}var Xr,$r;function Wn(e){if(Xr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var co=!1;function lr(e,n){if(!e||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),L=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===L.length)for(o=C.length-1,h=L.length-1;1<=o&&0<=h&&C[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==L[h]){var q=`
`+C[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return Wn("Activity");default:return""}}function fo(e){try{var n="",s=null;do n+=ho(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,$l=r.unstable_requestPaint,We=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,Wl=r.unstable_setDisableYieldValue,jn=null,Le=null;function wn(e){if(typeof Jl=="function"&&Wl(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(jn,e)}catch{}}var ce=Math.clz32?Math.clz32:eu,tu=Math.log,Zr=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/Zr|0)|0}var ti=256,cr=262144,ye=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(g&=E,g!==0?h=ei(g):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=o&~f,E!==0?h=ei(E):g!==0?h=ei(g):s||(s=o&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-ce(s),Q=1<<q;E[q]=0,C[q]=-1;var z=L[q];if(z!==null)for(L[q]=null,q=0;q<z.length;q++){var B=z[q];B!==null&&(B.lane&=-536870913)}s&=~Q}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function po(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(e.suspendedLanes|n))!==0?0:s}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function qn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Hn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Hn,xe="__reactProps$"+Hn,si="__reactContainer$"+Hn,Jr="__reactEvents$"+Hn,xh="__reactListeners$"+Hn,su="__reactHandles$"+Hn,ru="__reactResources$"+Hn,ri="__reactMarker$"+Hn;function Wr(e){delete e[_e],delete e[xe],delete e[Jr],delete e[xh],delete e[su]}function ai(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=n_(e);e!==null;){if(s=e[_e])return s;e=n_(e)}return n}e=s,s=e.parentNode}return null}function Rn(e){if(e=e[_e]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ri]=!0}var _o=new Set,vo={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function au(e){return pe.call(Ao,e)?!0:pe.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function ta(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=us(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function sn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bo(e,g,Ue(n)):s!=null?bo(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function bo(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function hs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Io=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,hi=null;function pr(e){var n=Rn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&mr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&cs(e,!!s.multiple,n,!1)}}}var sa=!1;function ms(e,n,s){if(sa)return e(n,s);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(ds!==null||hi!==null)&&(ic(),ds&&(n=ds,e=hi,hi=ds=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Fn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Cn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{yr=!1}var fi=null,Co=null,_r=null;function No(){if(_r)return _r;var e,n=Co,s=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Yn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Yn,this.isPropagationStopped=Yn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(Vi),gs=b({},Vi,{view:0,detail:0}),Do=ze(gs),ps,ra,mi,aa=b({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ps=e.screenX-mi.screenX,ra=e.screenY-mi.screenY):ra=ps=0,mi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Oo=ze(aa),Er=b({},aa,{dataTransfer:0}),hu=ze(Er),fu=b({},gs,{relatedTarget:0}),Tr=ze(fu),Mo=b({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=ze(Mo),oa=b({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=ze(oa),gu=b({},Vi,{data:0}),gi=ze(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function ys(){return vu}var tn=b({},gs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=ze(tn),Tu=b({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=ze(Tu),u=b({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=ze(u),v=b({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),P=b({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(P),tt=b({},Vi,{newState:0,oldState:0}),St=ze(tt),he=[9,13,27,32],jt=Cn&&"CompositionEvent"in window,re=null;Cn&&"documentMode"in document&&(re=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!re,pi=Cn&&(!jt||re&&8<re&&11>=re),Qn=" ",Kn=!1;function Ar(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function BT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function qT(e,n){if(ua)return e==="compositionend"||!jt&&Ar(e,n)?(e=No(),_r=Co=fi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!HT[e.type]:n==="textarea"}function ag(e,n,s,o){ds?hi?hi.push(o):hi=[o]:ds=o,n=cc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,xo=null;function GT(e){qy(e,0)}function Au(e){var n=mn(e);if(mr(n))return e}function og(e,n){if(e==="change")return n}var lg=!1;if(Cn){var Uh;if(Cn){var Ph="oninput"in document;if(!Ph){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),Ph=typeof ug.oninput=="function"}Uh=Ph}else Uh=!1;lg=Uh&&(!document.documentMode||9<document.documentMode)}function cg(){Vo&&(Vo.detachEvent("onpropertychange",hg),xo=Vo=null)}function hg(e){if(e.propertyName==="value"&&Au(xo)){var n=[];ag(n,xo,e,In(e)),ms(GT,n)}}function FT(e,n,s){e==="focusin"?(cg(),Vo=n,xo=s,Vo.attachEvent("onpropertychange",hg)):e==="focusout"&&cg()}function YT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(xo)}function QT(e,n){if(e==="click")return Au(n)}function KT(e,n){if(e==="input"||e==="change")return Au(n)}function XT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:XT;function Uo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,n){var s=fg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=fg(s)}}function mg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $T=Cn&&"documentMode"in document&&11>=document.documentMode,ca=null,Lh=null,Po=null,zh=!1;function pg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ca==null||ca!==ci(o)||(o=ca,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Uo(Po,o)||(Po=o,o=cc(Lh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ca)))}function Sr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ha={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},jh={},yg={};Cn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function br(e){if(jh[e])return jh[e];if(!ha[e])return e;var n=ha[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in yg)return jh[e]=n[s];return e}var _g=br("animationend"),vg=br("animationiteration"),Eg=br("animationstart"),ZT=br("transitionrun"),JT=br("transitionstart"),WT=br("transitioncancel"),Tg=br("transitionend"),Ag=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Xn(e,n){Ag.set(e,n),li(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],fa=0,qh=0;function bu(){for(var e=fa,n=qh=fa=0;n<e;){var s=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Sg(s,h,f)}}function wu(e,n,s,o){Dn[fa++]=e,Dn[fa++]=n,Dn[fa++]=s,Dn[fa++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function wr(e,n){return wu(e,null,null,n),Ru(e)}function Sg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<sl)throw sl=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function t1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,s,o){return new t1(e,n,s,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var s=e.alternate;return s===null?(s=yn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function bg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Gh(e)&&(g=1);else if(typeof e=="string")g=rA(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=yn(31,s,n,h),e.elementType=w,e.lanes=f,e;case W:return Rr(s.children,h,f,n);case J:g=8,h|=24;break;case lt:return e=yn(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case et:return e=yn(13,s,n,h),e.elementType=et,e.lanes=f,e;case st:return e=yn(19,s,n,h),e.elementType=st,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case dt:g=9;break t;case qt:g=11;break t;case R:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=yn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,s,o){return e=yn(7,e,o,n),e.lanes=s,e}function Fh(e,n,s){return e=yn(6,e,null,n),e.lanes=s,e}function wg(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,s){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rg=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var s=Rg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fo(n)},Rg.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var ma=[],ga=0,Cu=null,ko=0,Mn=[],Vn=0,_s=null,yi=1,_i="";function Pi(e,n){ma[ga++]=ko,ma[ga++]=Cu,Cu=e,ko=n}function Ig(e,n,s){Mn[Vn++]=yi,Mn[Vn++]=_i,Mn[Vn++]=_s,_s=e;var o=yi;e=_i;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-ce(n)+h|s<<h|o,_i=f+e}else yi=1<<f|s<<h|o,_i=e}function Qh(e){e.return!==null&&(Pi(e,1),Ig(e,1,0))}function Kh(e){for(;e===Cu;)Cu=ma[--ga],ma[ga]=null,ko=ma[--ga],ma[ga]=null;for(;e===_s;)_s=Mn[--Vn],Mn[Vn]=null,_i=Mn[--Vn],Mn[Vn]=null,yi=Mn[--Vn],Mn[Vn]=null}function Cg(e,n){Mn[Vn++]=yi,Mn[Vn++]=_i,Mn[Vn++]=_s,yi=n.id,_i=n.overflow,_s=e}var je=null,Wt=null,xt=!1,vs=null,xn=!1,Xh=Error(a(519));function Es(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(On(n,e)),Xh}function Ng(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[xe]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Ct(al[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),hs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Yy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Es(e,!0)}function Dg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:je=je.return}}function pa(e){if(e!==je)return!1;if(!xt)return Dg(e),xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&Wt&&Es(e),Dg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=e_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=e_(e)}else n===27?(n=Wt,xs(e.type)?(e=vd,vd=null,Wt=e):Wt=n):Wt=je?Pn(e.stateNode.nextSibling):null;return!0}function Ir(){Wt=je=null,xt=!1}function $h(){var e=vs;return e!==null&&(un===null?un=e:un.push.apply(un,e),vs=null),e}function Lo(e){vs===null?vs=[e]:vs.push(e)}var Zh=O(null),Cr=null,ki=null;function Ts(e,n,s){it(Zh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Zh.current,K(Zh)}function Jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Wh(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Cr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Og(Cr,e)}function Du(e,n){return Cr===null&&Nr(e),Og(e,n)}function Og(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var e1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},n1=r.unstable_scheduleCallback,i1=r.unstable_NormalPriority,Te={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new e1,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&n1(i1,function(){e.controller.abort()})}var jo=null,ef=0,_a=0,va=null;function s1(e,n){if(jo===null){var s=jo=[];ef=0,_a=rd(),va={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ef++,n.then(Mg,Mg),n}function Mg(){if(--ef===0&&jo!==null){va!==null&&(va.status="fulfilled");var e=jo;jo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function r1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Vg=H.S;H.S=function(e,n){py=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&s1(e,n),Vg!==null&&Vg(e,n)};var Dr=O(null);function nf(){var e=Dr.current;return e!==null?e:Jt.pooledCache}function Ou(e,n){n===null?it(Dr,Dr.current):it(Dr,n.pool)}function xg(){var e=nf();return e===null?null:{parent:Te._currentValue,pool:e}}var Ea=Error(a(460)),sf=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw Mr=n,Ea}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mr=s,Ea):s}}var Mr=null;function kg(){if(Mr===null)throw Error(a(459));var e=Mr;return Mr=null,e}function Lg(e){if(e===Ea||e===Mu)throw Error(a(483))}var Ta=null,Bo=0;function xu(e){var n=Bo;return Bo+=1,Ta===null&&(Ta=[]),Pg(Ta,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zg(e){function n(U,D){if(e){var k=U.deletions;k===null?(U.deletions=[D],U.flags|=16):k.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Ui(U,D),U.index=0,U.sibling=null,U}function f(U,D,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<D?(U.flags|=67108866,D):k):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,k,F){return D===null||D.tag!==6?(D=Fh(k,U.mode,F),D.return=U,D):(D=h(D,k),D.return=U,D)}function C(U,D,k,F){var ft=k.type;return ft===W?q(U,D,k.props.children,F,k.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Or(ft)===D.type)?(D=h(D,k.props),qo(D,k),D.return=U,D):(D=Iu(k.type,k.key,k.props,null,U.mode,F),qo(D,k),D.return=U,D)}function L(U,D,k,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=Yh(k,U.mode,F),D.return=U,D):(D=h(D,k.children||[]),D.return=U,D)}function q(U,D,k,F,ft){return D===null||D.tag!==7?(D=Rr(k,U.mode,F,ft),D.return=U,D):(D=h(D,k),D.return=U,D)}function Q(U,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fh(""+D,U.mode,k),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return k=Iu(D.type,D.key,D.props,null,U.mode,k),qo(k,D),k.return=U,k;case Y:return D=Yh(D,U.mode,k),D.return=U,D;case S:return D=Or(D),Q(U,D,k)}if(Ce(D)||x(D))return D=Rr(D,U.mode,k,null),D.return=U,D;if(typeof D.then=="function")return Q(U,xu(D),k);if(D.$$typeof===ht)return Q(U,Du(U,D),k);Uu(U,D)}return null}function z(U,D,k,F){var ft=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:E(U,D,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===ft?C(U,D,k,F):null;case Y:return k.key===ft?L(U,D,k,F):null;case S:return k=Or(k),z(U,D,k,F)}if(Ce(k)||x(k))return ft!==null?null:q(U,D,k,F,null);if(typeof k.then=="function")return z(U,D,xu(k),F);if(k.$$typeof===ht)return z(U,D,Du(U,k),F);Uu(U,k)}return null}function B(U,D,k,F,ft){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(k)||null,E(D,U,""+F,ft);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?k:F.key)||null,C(D,U,F,ft);case Y:return U=U.get(F.key===null?k:F.key)||null,L(D,U,F,ft);case S:return F=Or(F),B(U,D,k,F,ft)}if(Ce(F)||x(F))return U=U.get(k)||null,q(D,U,F,ft,null);if(typeof F.then=="function")return B(U,D,k,xu(F),ft);if(F.$$typeof===ht)return B(U,D,k,Du(D,F),ft);Uu(D,F)}return null}function ot(U,D,k,F){for(var ft=null,Lt=null,ut=D,Rt=D=0,Dt=null;ut!==null&&Rt<k.length;Rt++){ut.index>Rt?(Dt=ut,ut=null):Dt=ut.sibling;var zt=z(U,ut,k[Rt],F);if(zt===null){ut===null&&(ut=Dt);break}e&&ut&&zt.alternate===null&&n(U,ut),D=f(zt,D,Rt),Lt===null?ft=zt:Lt.sibling=zt,Lt=zt,ut=Dt}if(Rt===k.length)return s(U,ut),xt&&Pi(U,Rt),ft;if(ut===null){for(;Rt<k.length;Rt++)ut=Q(U,k[Rt],F),ut!==null&&(D=f(ut,D,Rt),Lt===null?ft=ut:Lt.sibling=ut,Lt=ut);return xt&&Pi(U,Rt),ft}for(ut=o(ut);Rt<k.length;Rt++)Dt=B(ut,U,Rt,k[Rt],F),Dt!==null&&(e&&Dt.alternate!==null&&ut.delete(Dt.key===null?Rt:Dt.key),D=f(Dt,D,Rt),Lt===null?ft=Dt:Lt.sibling=Dt,Lt=Dt);return e&&ut.forEach(function(zs){return n(U,zs)}),xt&&Pi(U,Rt),ft}function pt(U,D,k,F){if(k==null)throw Error(a(151));for(var ft=null,Lt=null,ut=D,Rt=D=0,Dt=null,zt=k.next();ut!==null&&!zt.done;Rt++,zt=k.next()){ut.index>Rt?(Dt=ut,ut=null):Dt=ut.sibling;var zs=z(U,ut,zt.value,F);if(zs===null){ut===null&&(ut=Dt);break}e&&ut&&zs.alternate===null&&n(U,ut),D=f(zs,D,Rt),Lt===null?ft=zs:Lt.sibling=zs,Lt=zs,ut=Dt}if(zt.done)return s(U,ut),xt&&Pi(U,Rt),ft;if(ut===null){for(;!zt.done;Rt++,zt=k.next())zt=Q(U,zt.value,F),zt!==null&&(D=f(zt,D,Rt),Lt===null?ft=zt:Lt.sibling=zt,Lt=zt);return xt&&Pi(U,Rt),ft}for(ut=o(ut);!zt.done;Rt++,zt=k.next())zt=B(ut,U,Rt,zt.value,F),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?Rt:zt.key),D=f(zt,D,Rt),Lt===null?ft=zt:Lt.sibling=zt,Lt=zt);return e&&ut.forEach(function(pA){return n(U,pA)}),xt&&Pi(U,Rt),ft}function Zt(U,D,k,F){if(typeof k=="object"&&k!==null&&k.type===W&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var ft=k.key;D!==null;){if(D.key===ft){if(ft=k.type,ft===W){if(D.tag===7){s(U,D.sibling),F=h(D,k.props.children),F.return=U,U=F;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Or(ft)===D.type){s(U,D.sibling),F=h(D,k.props),qo(F,k),F.return=U,U=F;break t}s(U,D);break}else n(U,D);D=D.sibling}k.type===W?(F=Rr(k.props.children,U.mode,F,k.key),F.return=U,U=F):(F=Iu(k.type,k.key,k.props,null,U.mode,F),qo(F,k),F.return=U,U=F)}return g(U);case Y:t:{for(ft=k.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){s(U,D.sibling),F=h(D,k.children||[]),F.return=U,U=F;break t}else{s(U,D);break}else n(U,D);D=D.sibling}F=Yh(k,U.mode,F),F.return=U,U=F}return g(U);case S:return k=Or(k),Zt(U,D,k,F)}if(Ce(k))return ot(U,D,k,F);if(x(k)){if(ft=x(k),typeof ft!="function")throw Error(a(150));return k=ft.call(k),pt(U,D,k,F)}if(typeof k.then=="function")return Zt(U,D,xu(k),F);if(k.$$typeof===ht)return Zt(U,D,Du(U,k),F);Uu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(s(U,D.sibling),F=h(D,k),F.return=U,U=F):(s(U,D),F=Fh(k,U.mode,F),F.return=U,U=F),g(U)):s(U,D)}return function(U,D,k,F){try{Bo=0;var ft=Zt(U,D,k,F);return Ta=null,ft}catch(ut){if(ut===Ea||ut===Mu)throw ut;var Lt=yn(29,ut,null,U.mode);return Lt.lanes=F,Lt.return=U,Lt}}}var Vr=zg(!0),jg=zg(!1),As=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Sg(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}function of(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function Go(){if(lf){var e=va;if(e!==null)throw e}}function Fo(e,n,s,o){lf=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,g===null?f=L:g.next=L,g=C;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=L:E.next=L,q.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;g=0,q=L=C=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Nt&z)===z:(o&z)===z){z!==0&&z===_a&&(lf=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;z=n;var Zt=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){Q=ot.call(Zt,Q,z);break t}Q=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,z=typeof ot=="function"?ot.call(Zt,Q,z):ot,z==null)break t;Q=b({},Q,z);break t;case 2:As=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(L=q=B,C=Q):q=q.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);q===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Ns|=g,e.lanes=g,e.memoizedState=Q}}function Bg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function qg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Bg(s[e],n)}var Aa=O(null),Pu=O(0);function Hg(e,n){e=Qi,it(Pu,e),it(Aa,n),Qi=e|n.baseLanes}function uf(){it(Pu,Qi),it(Aa,Aa.current)}function cf(){Qi=Pu.current,K(Aa),K(Pu)}var _n=O(null),Un=null;function ws(e){var n=e.alternate;it(fe,fe.current&1),it(_n,e),Un===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Un=e)}function hf(e){it(fe,fe.current),it(_n,e),Un===null&&(Un=e)}function Gg(e){e.tag===22?(it(fe,fe.current),it(_n,e),Un===null&&(Un=e)):Rs()}function Rs(){it(fe,fe.current),it(_n,_n.current)}function vn(e){K(_n),Un===e&&(Un=null),K(fe)}var fe=O(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,bt=null,Xt=null,Ae=null,Lu=!1,Sa=!1,xr=!1,zu=0,Yo=0,ba=null,a1=0;function le(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function df(e,n,s,o,h,f){return zi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ip:Cf,xr=!1,f=s(o,h),xr=!1,Sa&&(f=Yg(n,s,o,h)),Fg(e),f}function Fg(e){H.H=Xo;var n=Xt!==null&&Xt.next!==null;if(zi=0,Ae=Xt=bt=null,Lu=!1,Yo=0,ba=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Nu(e)&&(Se=!0))}function Yg(e,n,s,o){bt=e;var h=0;do{if(Sa&&(ba=null),Yo=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Cp,f=n(s,o)}while(Sa);return f}function o1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(bt.flags|=1024),n}function mf(){var e=zu!==0;return zu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function pf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}zi=0,Ae=Xt=bt=null,Sa=!1,Yo=zu=0,ba=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function de(){if(Xt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Yo;return Yo+=1,ba===null&&(ba=[]),e=Pg(ba,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ip:Cf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===ht)return Be(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=de();return _f(n,Xt,e)}function _f(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,L=n,q=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Nt&Q)===Q:(zi&Q)===Q){var z=L.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===_a&&(q=!0);else if((zi&z)===z){L=L.next,z===_a&&(q=!0);continue}else Q={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,bt.lanes|=z,Ns|=z;Q=L.action,xr&&s(f,Q),f=L.hasEagerState?L.eagerState:s(f,Q)}else z={lane:Q,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,bt.lanes|=Q,Ns|=Q;L=L.next}while(L!==null&&L!==n);if(C===null?g=f:C.next=E,!pn(f,e.memoizedState)&&(Se=!0,q&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=de(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Qg(e,n,s){var o=bt,h=de(),f=xt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!pn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,Af($g.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},Xg.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(zi&127)!==0||Kg(o,n,s)}return s}function Kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=ju(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Xg(e,n,s,o){n.value=s,n.getSnapshot=o,Zg(n)&&Jg(e)}function $g(e,n,s){return s(function(){Zg(n)&&Jg(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function Jg(e){var n=wr(e,2);n!==null&&cn(n,e,2)}function Ef(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),xr){wn(!0);try{s()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function Wg(e,n,s,o){return e.baseState=s,_f(e,Xt,typeof o=="function"?o:ji)}function l1(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,tp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function tp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),C=H.S;C!==null&&C(g,E),ep(e,n,E)}catch(L){Tf(e,n,L)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),ep(e,n,f)}catch(L){Tf(e,n,L)}}function ep(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){np(e,n,o)},function(o){return Tf(e,n,o)}):np(e,n,s)}function np(e,n,s){n.status="fulfilled",n.value=s,ip(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,tp(e,s)))}function Tf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ip(n),n=n.next;while(n!==o)}e.action=null}function ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sp(e,n){return n}function rp(e,n){if(xt){var s=Jt.formState;if(s!==null){t:{var o=bt;if(xt){if(Wt){e:{for(var h=Wt,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Pn(h.nextSibling),o=h.data==="F!";break t}}Es(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:n},s.queue=o,s=bp.bind(null,bt,o),o.dispatch=s,o=Ef(!1),f=If.bind(null,bt,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=l1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function ap(e){var n=de();return op(n,Xt,e)}function op(e,n,s){if(n=_f(e,n,sp)[0],e=qu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(g){throw g===Ea?Mu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,wa(9,{destroy:void 0},u1.bind(null,h,s),null)),[o,f,e]}function u1(e,n){e.action=n}function lp(e){var n=de(),s=Xt;if(s!==null)return op(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function wa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ju(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function up(){return de().memoizedState}function Hu(e,n,s,o){var h=en();bt.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&ff(o,Xt.memoizedState.deps)?h.memoizedState=wa(n,f,s,o):(bt.flags|=e,h.memoizedState=wa(1|n,f,s,o))}function cp(e,n){Hu(8390656,8,e,n)}function Af(e,n){Gu(2048,8,e,n)}function c1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=ju(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function hp(e){var n=de().memoizedState;return c1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function fp(e,n){return Gu(4,2,e,n)}function dp(e,n){return Gu(4,4,e,n)}function mp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gp(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,mp.bind(null,n,e),s)}function Sf(){}function pp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function yp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),xr){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[o,n],o}function bf(e,n,s){return s===void 0||(zi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=_y(),bt.lanes|=e,Ns|=e,s)}function _p(e,n,s,o){return pn(s,n)?s:Aa.current!==null?(e=bf(e,s,o),pn(e,n)||(Se=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Nt&261930)===0?(Se=!0,e.memoizedState=s):(e=_y(),bt.lanes|=e,Ns|=e,n)}function vp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,If(e,!1,n,s);try{var C=h(),L=H.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var q=r1(C,o);Ko(e,n,q,An(e))}else Ko(e,n,o,An(e))}catch(Q){Ko(e,n,{then:function(){},status:"rejected",reason:Q},An())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function h1(){}function wf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ep(e).queue;vp(e,h,n,mt,s===null?h1:function(){return Tp(e),s(o)})}function Ep(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:mt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tp(e){var n=Ep(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},An())}function Rf(){return Be(hl)}function Ap(){return de().memoizedState}function Sp(){return de().memoizedState}function f1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=An();e=Ss(s);var o=bs(n,e,s);o!==null&&(cn(o,n,s),Ho(o,n,s)),n={cache:tf()},e.payload=n;return}n=n.return}}function d1(e,n,s){var o=An();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?wp(n,s):(s=Hh(e,n,s,o),s!==null&&(cn(s,e,o),Rp(s,n,o)))}function bp(e,n,s){var o=An();Ko(e,n,s,o)}function Ko(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))wp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return wu(e,n,h,0),Jt===null&&bu(),!1}catch{}if(s=Hh(e,n,h,o),s!==null)return cn(s,e,o),Rp(s,n,o),!0}return!1}function If(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,o,2),n!==null&&cn(n,e,2)}function Fu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function wp(e,n){Sa=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Rp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,po(e,s)}}var Xo={readContext:Be,use:Bu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Xo.useEffectEvent=le;var Ip={readContext:Be,use:Bu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:cp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,mp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(xr){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var h=s(n);if(xr){wn(!0);try{s(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=d1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=bp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=en();return bf(s,e,n)},useTransition:function(){var e=Ef(!1);return e=vp.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=en();if(xt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Nt&127)!==0||Kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,cp($g.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},Xg.bind(null,o,f,s,n),null),s},useId:function(){var e=en(),n=Jt.identifierPrefix;if(xt){var s=_i,o=yi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=a1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:rp,useActionState:rp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return en().memoizedState=f1.bind(null,bt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Be,use:Bu,useCallback:pp,useContext:Be,useEffect:Af,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:qu,useRef:up,useState:function(){return qu(ji)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=de();return _p(s,Xt.memoizedState,e,n)},useTransition:function(){var e=qu(ji)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Qg,useId:Ap,useHostTransitionStatus:Rf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var s=de();return Wg(s,Xt,e,n)},useMemoCache:yf,useCacheRefresh:Sp};Cf.useEffectEvent=hp;var Cp={readContext:Be,use:Bu,useCallback:pp,useContext:Be,useEffect:Af,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:vf,useRef:up,useState:function(){return vf(ji)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=de();return Xt===null?bf(s,e,n):_p(s,Xt.memoizedState,e,n)},useTransition:function(){var e=vf(ji)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Qg,useId:Ap,useHostTransitionStatus:Rf,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var s=de();return Xt!==null?Wg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Sp};Cp.useEffectEvent=hp;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=An(),h=Ss(o);h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,o),n!==null&&(cn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=An(),h=Ss(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,o),n!==null&&(cn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=An(),o=Ss(s);o.tag=2,n!=null&&(o.callback=n),n=bs(e,o,s),n!==null&&(cn(n,e,s),Ho(n,e,s))}};function Np(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(s,o)||!Uo(h,f):!0}function Dp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Op(e){Su(e)}function Mp(e){console.error(e)}function Vp(e){Su(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function xp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function Up(e){return e=Ss(e),e.tag=3,e}function Pp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){xp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){xp(n,s,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function m1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ya(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?sc():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(e,o,h)),!1}throw Error(a(435,s.tag))}return nd(e,o,h),sc(),!1}if(xt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),Lo(On(e,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Lo(On(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,s),h=Of(e.stateNode,o,h),of(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=On(f,s),il===null?il=[f]:il.push(f),ue!==4&&(ue=2),n===null)return!0;o=On(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Up(h),Pp(h,e,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?jg(n,null,s,o):Vr(n,e.child,s,o)}function kp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Nr(n),o=df(e,n,s,g,f,h),E=mf(),e!==null&&!Se?(gf(e,n,h),Bi(e,n,h)):(xt&&E&&Qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Lp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,zp(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Uo,s(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=Ui(f,o),e.ref=n.ref,e.return=n,n.child=e}function zp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Vf(e,n,s,o,h)}function jp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Bp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Hg(n,f):uf(),Gg(n);else return o=n.lanes=536870912,Bp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Hg(n,f),Rs(),n.memoizedState=null):(e!==null&&Ou(n,null),uf(),Rs());return qe(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(e,n,s,o,h){var f=nf();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),uf(),Gg(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qp(e,n,s){return Vr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function g1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,$o(null,e);if(hf(n),(e=Wt)?(e=t_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=wg(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=qp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ya(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=Jt,o!==null&&(g=yo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,wr(e,g),cn(o,e,g),Mf;sc(),n=qp(e,n,s)}else e=f.treeContext,Wt=Pn(g.nextSibling),je=n,xt=!0,vs=null,xn=!1,e!==null&&Cg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=Ui(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Nr(n),s=df(e,n,s,o,void 0,h),o=mf(),e!==null&&!Se?(gf(e,n,h),Bi(e,n,h)):(xt&&o&&Qh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Hp(e,n,s,o,h,f){return Nr(n),n.updateQueue=null,s=Yg(n,o,s,h),Fg(e),o=mf(),e!==null&&!Se?(gf(e,n,f),Bi(e,n,f)):(xt&&o&&Qh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Gp(e,n,s,o,h){if(Nr(n),n.stateNode===null){var f=da,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Ur(s,E);f.props=C;var L=f.context,q=s.contextType;g=da,typeof q=="object"&&q!==null&&(g=Be(q));var Q=s.getDerivedStateFromProps;q=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==g)&&Dp(n,f,o,g),As=!1;var z=n.memoizedState;f.state=z,Fo(n,o,f,h),Go(),L=n.memoizedState,E||z!==L||As?(typeof Q=="function"&&(Nf(n,s,Q,o),L=n.memoizedState),(C=As||Np(n,s,C,o,z,L,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),g=n.memoizedProps,q=Ur(s,g),f.props=q,Q=n.pendingProps,z=f.context,L=s.contextType,C=da,typeof L=="object"&&L!==null&&(C=Be(L)),E=s.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==C)&&Dp(n,f,o,C),As=!1,z=n.memoizedState,f.state=z,Fo(n,o,f,h),Go();var B=n.memoizedState;g!==Q||z!==B||As||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),B=n.memoizedState),(q=As||Np(n,s,q,o,z,B,C)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=C,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vr(n,e.child,null,h),n.child=Vr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Fp(e,n,s,o){return Ir(),n.flags|=256,qe(e,n,s,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:xg()}}function Pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Tn),e}function Yp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(h?ws(n):Rs(),(e=Wt)?(e=t_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=wg(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw Es(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rs(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=Rr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=Pf(e,g,s),n.memoizedState=xf,$o(null,o)):(ws(n),kf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=Rr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vr(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Pf(e,g,s),n.memoizedState=xf,n=$o(null,o));else if(ws(n),_d(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var L=g.dgst;g=L,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(Se||ya(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Jt,g!==null&&(o=yo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,wr(e,o),cn(g,e,o),Mf;yd(E)||sc(),n=Lf(e,n,s)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Wt=Pn(E.nextSibling),je=n,xt=!0,vs=null,xn=!1,e!==null&&Cg(n,e),n=kf(n,o.children),n.flags|=4096);return n}return h?(Rs(),E=o.fallback,h=n.mode,C=e.child,L=C.sibling,o=Ui(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Ui(L,E):(E=Rr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(C=Te._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=xg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Pf(e,g,s),n.memoizedState=xf,$o(e.child,o)):(ws(n),s=e.child,e=s.sibling,s=Ui(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return Vr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,s)}function zf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(fe,g),qe(e,n,o,s),o=xt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,s,n);else if(e.tag===19)Qp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ku(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ya(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ui(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ui(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function p1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Ts(n,Te,e.memoizedState.cache),Ir();break;case 27:case 5:or(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Yp(e,n,s):(ws(n),e=Bi(e,n,s),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ya(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(fe,fe.current),o)break;return null;case 22:return n.lanes=0,jp(e,n,s,n.pendingProps);case 24:Ts(n,Te,e.memoizedState.cache)}return Bi(e,n,s)}function Xp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return Se=!1,p1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,xt&&(n.flags&1048576)!==0&&Ig(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=Ur(e,o),n.tag=1,n=Gp(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=kp(null,n,e,o,s);break t}else if(h===R){n.tag=14,n=Lp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ur(o,n.pendingProps),Gp(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Fo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ts(n,Te,o),o!==f.cache&&Wh(n,[Te],s,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,o,s);break t}else if(o!==h){h=On(Error(a(424)),n),Lo(h),n=Fp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Wt=Pn(e.firstChild),je=n,xt=!0,vs=null,xn=!0,s=jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ir(),o===h){n=Bi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=a_(n.type,null,n.pendingProps,null))?n.memoizedState=s:xt||(s=n.type,e=n.pendingProps,o=hc(wt.current).createElement(s),o[_e]=n,o[xe]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=a_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&xt&&(o=n.stateNode=i_(n.type,n.pendingProps,wt.current),je=n,xn=!0,h=Wt,xs(n.type)?(vd=h,Wt=Pn(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((h=o=Wt)&&(o=Y1(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,je=n,Wt=Pn(o.firstChild),xn=!1,h=!0):h=!1),h||Es(n)),or(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,o1,null,null,s),hl._currentValue=h),Ku(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&xt&&((e=s=Wt)&&(s=Q1(s,n.pendingProps,xn),s!==null?(n.stateNode=s,je=n,Wt=null,e=!0):e=!1),e||Es(n)),null;case 13:return Yp(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return kp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ts(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,s);case 15:return zp(e,n,n.type,n.pendingProps,s);case 19:return Kp(e,n,s);case 31:return g1(e,n,s);case 22:return jp(e,n,s,n.pendingProps);case 24:return Nr(n),o=Be(Te),e===null?(h=nf(),h===null&&(h=Jt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),Ts(n,Te,h)):((e.lanes&s)!==0&&(af(e,n),Fo(n,null,null,s),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Te,o)):(o=f.cache,Ts(n,Te,o),o!==h.cache&&Wh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function Bf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ay())e.flags|=8192;else throw Mr=Vu,sf}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!h_(n))if(Ay())e.flags|=8192;else throw Mr=Vu,sf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Na|=n)}function Zo(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function y1(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(te(n),$p(n,f)):(te(n),Bf(n,h,null,o,s))):f?f!==e.memoizedState?(qi(n),te(n),$p(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),te(n),Bf(n,h,e,o,s)),null;case 27:if(Kr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}e=at.current,pa(n)?Ng(n):(e=i_(h,o,s),n.stateNode=e,qi(n))}return te(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(f=at.current,pa(n))Ng(n);else{var g=hc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return te(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,s)),e||Es(n,!0)}else e=hc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),te(n),null);case 4:return se(),e===null&&ud(n.stateNode.containerInfo),te(n),null;case 10:return Li(n.type),te(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)bg(s,e),s=s.sibling;return it(fe,fe.current&1|2),xt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>ec&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return te(n),null}else 2*We()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,s=fe.current,it(fe,h?s&1|2:s&1),xt&&Pi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return vn(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Dr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Te),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return vn(n),cf(),e!==null&&K(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Te),null;case 25:return null;default:return null}}function Zp(e,n){switch(Kh(n),n.tag){case 3:Li(Te),se();break;case 26:case 27:case 5:Kr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(fe);break;case 10:Li(n.type);break;case 22:case 23:vn(n),cf(),e!==null&&K(Dr);break;case 24:Li(Te)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Is(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,L=E;try{L()}catch(q){Qt(h,C,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function Jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{qg(n,s)}catch(o){Qt(e,e.return,o)}}}function Wp(e,n,s){s.props=Ur(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function ty(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function qf(e,n,s){try{var o=e.stateNode;j1(o,e.type,s,n),o[xe]=n}catch(h){Qt(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function ny(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[xe]=s}catch(f){Qt(e,e.return,f)}}var Hi=!1,be=!1,Ff=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function v1(e,n){if(e=e.containerInfo,fd=_c,e=gg(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,L=0,q=0,Q=e,z=null;e:for(;;){for(var B;Q!==s||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===s&&++L===h&&(E=g),z===f&&++q===o&&(C=g),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},_c=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Ur(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Qt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)pd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function sy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),o&4&&Jo(5,s);break;case 1:if(Fi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Ur(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&Jp(s),o&512&&Wo(s,s.return);break;case 3:if(Fi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{qg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&ny(s);case 26:case 5:Fi(e,s),n===null&&o&4&&ty(s),o&512&&Wo(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),o&4&&oy(e,s);break;case 13:Fi(e,s),o&4&&ly(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=C1.bind(null,s),K1(e,s))));break;case 22:if(o=s.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||be,h=Hi;var f=be;Hi=o,(be=n)&&!f?Yi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),Hi=h,be=f}break;case 30:break;default:Fi(e,s)}}function ry(e){var n=e.alternate;n!==null&&(e.alternate=null,ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Gi(e,n,s){for(s=s.child;s!==null;)ay(e,n,s),s=s.sibling}function ay(e,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:be||vi(s,n),Gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||vi(s,n);var o=ae,h=an;xs(s.type)&&(ae=s.stateNode,an=!1),Gi(e,n,s),ll(s.stateNode),ae=o,an=h;break;case 5:be||vi(s,n);case 6:if(o=ae,h=an,ae=null,Gi(e,n,s),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(an?(e=ae,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ka(e)):Jy(ae,s.stateNode));break;case 4:o=ae,h=an,ae=s.stateNode.containerInfo,an=!0,Gi(e,n,s),ae=o,an=h;break;case 0:case 11:case 14:case 15:Is(2,s,n),be||Is(4,s,n),Gi(e,n,s);break;case 1:be||(vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Wp(s,n,o)),Gi(e,n,s);break;case 21:Gi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Gi(e,n,s),be=o;break;default:Gi(e,n,s)}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(s){Qt(n,n.return,s)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(s){Qt(n,n.return,s)}}function E1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=E1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=N1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ay(f,g,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)uy(n,e),n=n.sibling}var $n=null;function uy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Is(3,e,e.return),Jo(3,e),Is(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(be||s===null||vi(s,s.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=$n;if(on(n,e),ln(e),o&512&&(be||s===null||vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=u_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=u_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else c_(h,e.type,e.stateNode);else e.stateNode=l_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?c_(h,e.type,e.stateNode):l_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(be||s===null||vi(s,s.return)),s!==null&&o&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(be||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Qt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Qt(e,e.return,ot)}}break;case 3:if(mc=null,h=$n,$n=fc(n.containerInfo),on(n,e),$n=h,ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(ot){Qt(e,e.return,ot)}Ff&&(Ff=!1,cy(e));break;case 4:o=$n,$n=fc(e.stateNode.containerInfo),on(n,e),ln(e),$n=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,L=Hi,q=be;if(Hi=L||h,be=q||C,on(n,e),be=q,Hi=L,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Hi||be||Pr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Qt(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){Qt(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var B=C.stateNode;h?Wy(B,!0):Wy(C.stateNode,!1)}catch(ot){Qt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ey(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var E=Hf(e);Zu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,L=Hf(e);Gf(e,L,C);break;default:throw Error(a(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),Pr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Wp(n,n.return,s),Pr(n);break;case 27:ll(n.stateNode);case 26:case 5:vi(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Yi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,s),Jo(4,f);break;case 1:if(Yi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Qt(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Bg(C[h],E)}catch(L){Qt(o,o.return,L)}}s&&g&64&&Jp(f),Wo(f,f.return);break;case 27:ny(f);case 26:case 5:Yi(h,f,s),s&&o===null&&g&4&&ty(f),Wo(f,f.return);break;case 12:Yi(h,f,s);break;case 31:Yi(h,f,s),s&&g&4&&oy(h,f);break;case 13:Yi(h,f,s),s&&g&4&&ly(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,s),Wo(f,f.return);break;case 30:break;default:Yi(h,f,s)}n=n.sibling}}function Yf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Zn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,s,o),n=n.sibling}function hy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,s,o),h&2048&&Jo(9,n);break;case 1:Zn(e,n,s,o);break;case 3:Zn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Zn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Zn(e,n,s,o);break;case 31:Zn(e,n,s,o);break;case 13:Zn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,s,o):tl(e,n):f._visibility&2?Zn(e,n,s,o):(f._visibility|=2,Ra(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:Zn(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:Zn(e,n,s,o)}}function Ra(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,L=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,C,h),Jo(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Ra(f,g,E,C,h):tl(f,g):(q._visibility|=2,Ra(f,g,E,C,h)),h&&L&2048&&Yf(g.alternate,g);break;case 24:Ra(f,g,E,C,h),h&&L&2048&&Qf(g.alternate,g);break;default:Ra(f,g,E,C,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Yf(o.alternate,o);break;case 24:tl(s,o),h&2048&&Qf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Ia(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)fy(e,n,s),e=e.sibling}function fy(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&el&&e.memoizedState!==null&&aA(s,$n,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var o=$n;$n=fc(e.stateNode.containerInfo),Ia(e,n,s),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ia(e,n,s),el=o):Ia(e,n,s));break;default:Ia(e,n,s)}}function dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,gy(o,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Is(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):nl(e);break;default:nl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,gy(o,e)}dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Is(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function gy(e,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:Is(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(ry(o),o===s){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var T1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,It=null,Nt=0,Yt=0,En=null,Cs=!1,Ca=!1,Kf=!1,Qi=0,ue=0,Ns=0,kr=0,Xf=0,Tn=0,Na=0,il=null,un=null,$f=!1,tc=0,py=0,ec=1/0,nc=null,Ds=null,Oe=0,Os=null,Da=null,Ki=0,Zf=0,Jf=null,yy=null,sl=0,Wf=null;function An(){return(Bt&2)!==0&&Nt!==0?Nt&-Nt:H.T!==null?rd():iu()}function _y(){if(Tn===0)if((Nt&536870912)===0||xt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function cn(e,n,s){(e===Jt&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Ms(e,Nt,Tn,!1)),hr(e,s),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(kr|=s),ue===4&&Ms(e,Nt,Tn,!1)),Ei(e))}function vy(e,n,s){if((Bt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?w1(e,n):ed(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Ms(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!S1(s)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var C=E.current.memoizedState.isDehydrated;if(C&&(Oa(E,g).flags|=256),g=ed(E,g,!1),g!==2){if(Kf&&!C){E.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Ms(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,Tn,!Cs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-We(),10<h)){if(Ms(o,n,Tn,!Cs),ni(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=$y(Ey.bind(null,o,s,un,nc,$f,n,Tn,kr,Na,Cs,f,"Throttled",-0,0),h);break t}Ey(o,s,un,nc,$f,n,Tn,kr,Na,Cs,f,null,-0,0)}}break}while(!0);Ei(e)}function Ey(e,n,s,o,h,f,g,E,C,L,q,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},fy(n,f,Q);var ot=(f&62914560)===f?tc-We():(f&4194048)===f?py-We():0;if(ot=oA(Q,ot),ot!==null){Ki=f,e.cancelPendingCommit=ot(Cy.bind(null,e,n,f,s,o,h,g,E,C,q,Q,null,z,B)),Ms(e,f,g,!L);return}}Cy(e,n,f,s,o,h,g,E,C)}function S1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,s,o){n&=~Xf,n&=~kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&fr(e,s,n)}function ic(){return(Bt&6)===0?(rl(0),!1):!0}function td(){if(It!==null){if(Yt===0)var e=It.return;else e=It,ki=Cr=null,pf(e),Ta=null,Bo=0,e=It;for(;e!==null;)Zp(e.alternate,e),e=e.return;It=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,H1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,td(),Jt=e,It=s=Ui(e.current,null),Nt=n,Yt=0,En=null,Cs=!1,Ca=Bn(e,n),Kf=!1,Na=Tn=Xf=kr=Ns=ue=0,un=il=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,bu(),s}function Ty(e,n){bt=null,H.H=Xo,n===Ea||n===Mu?(n=kg(),Yt=3):n===sf?(n=kg(),Yt=4):Yt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,It===null&&(ue=1,Yu(e,On(n,e.current)))}function Ay(){var e=_n.current;return e===null?!0:(Nt&4194048)===Nt?Un===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Un:!1}function Sy(){var e=H.H;return H.H=Xo,e===null?Xo:e}function by(){var e=H.A;return H.A=T1,e}function sc(){ue=4,Cs||(Nt&4194048)!==Nt&&_n.current!==null||(Ca=!0),(Ns&134217727)===0&&(kr&134217727)===0||Jt===null||Ms(Jt,Nt,Tn,!1)}function ed(e,n,s){var o=Bt;Bt|=2;var h=Sy(),f=by();(Jt!==e||Nt!==n)&&(nc=null,Oa(e,n)),n=!1;var g=ue;t:do try{if(Yt!==0&&It!==null){var E=It,C=En;switch(Yt){case 8:td(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var L=Yt;if(Yt=0,En=null,Ma(e,E,C,L),s&&Ca){g=0;break t}break;default:L=Yt,Yt=0,En=null,Ma(e,E,C,L)}}b1(),g=ue;break}catch(q){Ty(e,q)}while(!0);return n&&e.shellSuspendCounter++,ki=Cr=null,Bt=o,H.H=h,H.A=f,It===null&&(Jt=null,Nt=0,bu()),g}function b1(){for(;It!==null;)wy(It)}function w1(e,n){var s=Bt;Bt|=2;var o=Sy(),h=by();Jt!==e||Nt!==n?(nc=null,ec=We()+500,Oa(e,n)):Ca=Bn(e,n);t:do try{if(Yt!==0&&It!==null){n=It;var f=En;e:switch(Yt){case 1:Yt=0,En=null,Ma(e,n,f,1);break;case 2:case 9:if(Ug(f)){Yt=0,En=null,Ry(n);break}n=function(){Yt!==2&&Yt!==9||Jt!==e||(Yt=7),Ei(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ug(f)?(Yt=0,En=null,Ry(n)):(Yt=0,En=null,Ma(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?h_(g):E.stateNode.complete){Yt=0,En=null;var C=E.sibling;if(C!==null)It=C;else{var L=E.return;L!==null?(It=L,rc(L)):It=null}break e}}Yt=0,En=null,Ma(e,n,f,5);break;case 6:Yt=0,En=null,Ma(e,n,f,6);break;case 8:td(),ue=6;break t;default:throw Error(a(462))}}R1();break}catch(q){Ty(e,q)}while(!0);return ki=Cr=null,H.H=o,H.A=h,Bt=s,It!==null?0:(Jt=null,Nt=0,bu(),ue)}function R1(){for(;It!==null&&!Dh();)wy(It)}function wy(e){var n=Xp(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Ry(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Hp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Hp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:pf(n);default:Zp(s,n),n=It=bg(n,Qi),n=Xp(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?rc(e):It=n}function Ma(e,n,s,o){ki=Cr=null,pf(n),Ta=null,Bo=0;var h=n.return;try{if(m1(e,h,n,s,Nt)){ue=1,Yu(e,On(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ue=1,Yu(e,On(s,e.current)),It=null;return}n.flags&32768?(xt||o===1?e=!0:Ca||(Nt&536870912)!==0?e=!1:(Cs=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Iy(n,Cs);return}e=n.return;var s=y1(n.alternate,n,Qi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function Iy(e,n){do{var s=_1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ue=6,It=null}function Cy(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do ac();while(Oe!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,s,f,g,E,C),e===Jt&&(It=Jt=null,Nt=0),Da=n,Os=e,Ki=s,Zf=f,Jf=h,yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D1(ls,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,g=Bt,Bt|=4;try{v1(e,n,s)}finally{Bt=g,nt.p=h,H.T=o}}Oe=1,Ny(),Dy(),Oy()}}function Ny(){if(Oe===1){Oe=0;var e=Os,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{uy(n,e);var f=dd,g=gg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&mg(E.ownerDocument.documentElement,E)){if(C!==null&&kh(E)){var L=C.start,q=C.end;if(q===void 0&&(q=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(q,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),ot=E.textContent.length,pt=Math.min(C.start,ot),Zt=C.end===void 0?pt:Math.min(C.end,ot);!B.extend&&pt>Zt&&(g=Zt,Zt=pt,pt=g);var U=dg(E,pt),D=dg(E,Zt);if(U&&D&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var k=Q.createRange();k.setStart(U.node,U.offset),B.removeAllRanges(),pt>Zt?(B.addRange(k),B.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}_c=!!fd,dd=fd=null}finally{Bt=h,nt.p=o,H.T=s}}e.current=n,Oe=2}}function Dy(){if(Oe===2){Oe=0;var e=Os,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Bt;Bt|=4;try{sy(e,n.alternate,n)}finally{Bt=h,nt.p=o,H.T=s}}Oe=3}}function Oy(){if(Oe===4||Oe===3){Oe=0,$l();var e=Os,n=Da,s=Ki,o=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Da=Os=null,My(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Oi(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(Ki&3)!==0&&ac(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?sl++:(sl=0,Wf=e):sl=0,rl(0)}}function My(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function ac(){return Ny(),Dy(),Oy(),Vy()}function Vy(){if(Oe!==5)return!1;var e=Os,n=Zf;Zf=0;var s=Oi(Ki),o=H.T,h=nt.p;try{nt.p=32>s?32:s,H.T=null,s=Jf,Jf=null;var f=Os,g=Ki;if(Oe=0,Da=Os=null,Ki=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,my(f.current),hy(f,f.current,g,s),Bt=E,rl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{nt.p=h,H.T=o,My(e,n)}}function xy(e,n,s){n=On(s,n),n=Of(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(hr(e,2),Ei(e))}function Qt(e,n,s){if(e.tag===3)xy(e,e,s);else for(;n!==null;){if(n.tag===3){xy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){e=On(s,e),s=Up(2),o=bs(n,s,2),o!==null&&(Pp(s,o,n,e),hr(o,2),Ei(o));break}}n=n.return}}function nd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new A1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=I1.bind(null,e,n,s),n.then(e,e))}function I1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Nt&s)===s&&(ue===4||ue===3&&(Nt&62914560)===Nt&&300>We()-tc?(Bt&2)===0&&Oa(e,0):Xf|=s,Na===Nt&&(Na=0)),Ei(e)}function Uy(e,n){n===0&&(n=nu()),e=wr(e,n),e!==null&&(hr(e,n),Ei(e))}function C1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Uy(e,s)}function N1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,s)}function D1(e,n){return De(e,n)}var oc=null,Va=null,id=!1,lc=!1,sd=!1,Vs=0;function Ei(e){e!==Va&&e.next===null&&(Va===null?oc=Va=e:Va=Va.next=e),lc=!0,id||(id=!0,M1())}function rl(e,n){if(!sd&&lc){sd=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,zy(o,f))}else f=Nt,f=ni(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(s=!0,zy(o,f));o=o.next}while(s);sd=!1}}function O1(){Py()}function Py(){lc=id=!1;var e=0;Vs!==0&&q1()&&(e=Vs);for(var n=We(),s=null,o=oc;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Va=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Oe!==0&&Oe!==5||rl(e),Vs!==0&&(Vs=0)}function ky(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Mh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Nt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&os(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Bn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&os(o),Oi(s)){case 2:case 8:s=go;break;case 32:s=ls;break;case 268435456:s=Zl;break;default:s=ls}return o=Ly.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&os(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Nt;return o=ni(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(vy(e,o,n),ky(e,We()),e.callbackNode!=null&&e.callbackNode===s?Ly.bind(null,e):null)}function zy(e,n){if(ac())return null;vy(e,n,!0)}function M1(){G1(function(){(Bt&6)!==0?De(mo,O1):Py()})}function rd(){if(Vs===0){var e=_a;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Vs=e}return Vs}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function By(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function V1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=jy((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var C=g?By(h,g):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?By(h,g):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],x1=od.toLowerCase(),U1=od[0].toUpperCase()+od.slice(1);Xn(x1,"on"+U1)}Xn(_g,"onAnimationEnd"),Xn(vg,"onAnimationIteration"),Xn(Eg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(ZT,"onTransitionRun"),Xn(JT,"onTransitionStart"),Xn(WT,"onTransitionCancel"),Xn(Tg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(q){Su(q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,L=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(q){Su(q)}h.currentTarget=null,f=C}}}}function Ct(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Hy(n,e,2,!1),s.add(o))}function ld(e,n,s){var o=0;n&&(o|=4),Hy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[uc]){e[uc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(P1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,ld("selectionchange",!1,n))}}function Hy(e,n,s,o){switch(__(n)){case 2:var h=cA;break;case 8:h=hA;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function cd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ms(function(){var L=f,q=In(s),Q=[];t:{var z=Ag.get(e);if(z!==void 0){var B=di,ot=e;switch(e){case"keypress":if(vr(s)===0)break t;case"keydown":case"keyup":B=Eu;break;case"focusin":ot="focus",B=Tr;break;case"focusout":ot="blur",B=Tr;break;case"beforeblur":case"afterblur":B=Tr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case _g:case vg:case Eg:B=du;break;case Tg:B=T;break;case"scroll":case"scrollend":B=Do;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=xi;break;case"toggle":case"beforetoggle":B=St}var pt=(n&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),U=pt?z!==null?z+"Capture":null:z;pt=[];for(var D=L,k;D!==null;){var F=D;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||U===null||(F=Fn(D,U),F!=null&&pt.push(ol(D,F,k))),Zt)break;D=D.return}0<pt.length&&(z=new B(z,ot,null,s,q),Q.push({event:z,listeners:pt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==Io&&(ot=s.relatedTarget||s.fromElement)&&(ai(ot)||ot[si]))break t;if((B||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ot=s.relatedTarget||s.toElement,B=L,ot=ot?ai(ot):null,ot!==null&&(Zt=c(ot),pt=ot.tag,ot!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(B=null,ot=L),B!==ot)){if(pt=Oo,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=xi,F="onPointerLeave",U="onPointerEnter",D="pointer"),Zt=B==null?z:mn(B),k=ot==null?z:mn(ot),z=new pt(F,D+"leave",B,s,q),z.target=Zt,z.relatedTarget=k,F=null,ai(q)===L&&(pt=new pt(U,D+"enter",ot,s,q),pt.target=k,pt.relatedTarget=Zt,F=pt),Zt=F,B&&ot)e:{for(pt=k1,U=B,D=ot,k=0,F=U;F;F=pt(F))k++;F=0;for(var ft=D;ft;ft=pt(ft))F++;for(;0<k-F;)U=pt(U),k--;for(;0<F-k;)D=pt(D),F--;for(;k--;){if(U===D||D!==null&&U===D.alternate){pt=U;break e}U=pt(U),D=pt(D)}pt=null}else pt=null;B!==null&&Gy(Q,z,B,pt,!1),ot!==null&&Zt!==null&&Gy(Q,Zt,ot,pt,!0)}}t:{if(z=L?mn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Lt=og;else if(rg(z))if(lg)Lt=KT;else{Lt=YT;var ut=FT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&na(L.elementType)&&(Lt=og):Lt=QT;if(Lt&&(Lt=Lt(e,L))){ag(Q,Lt,s,q);break t}ut&&ut(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&bo(z,"number",z.value)}switch(ut=L?mn(L):window,e){case"focusin":(rg(ut)||ut.contentEditable==="true")&&(ca=ut,Lh=L,Po=null);break;case"focusout":Po=Lh=ca=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,pg(Q,s,q);break;case"selectionchange":if($T)break;case"keydown":case"keyup":pg(Q,s,q)}var Rt;if(jt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ua?Ar(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(pi&&s.locale!=="ko"&&(ua||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ua&&(Rt=No()):(fi=q,Co="value"in fi?fi.value:fi.textContent,ua=!0)),ut=cc(L,Dt),0<ut.length&&(Dt=new gi(Dt,e,null,s,q),Q.push({event:Dt,listeners:ut}),Rt?Dt.data=Rt:(Rt=la(s),Rt!==null&&(Dt.data=Rt)))),(Rt=Nn?BT(e,s):qT(e,s))&&(Dt=cc(L,"onBeforeInput"),0<Dt.length&&(ut=new gi("onBeforeInput","beforeinput",null,s,q),Q.push({event:ut,listeners:Dt}),ut.data=Rt)),V1(Q,e,L,s,q)}qy(Q,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=Fn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function k1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=Fn(s,f),L!=null&&g.unshift(ol(s,L,C))):h||(L=Fn(s,f),L!=null&&g.push(ol(s,L,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var L1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(L1,`
`).replace(z1,"")}function Yy(e,n){return n=Fy(n),Fy(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ia(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,ta(e,s,o))}}function hd(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ta(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,C=null,L=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":C=q;break;case"defaultChecked":L=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:$t(e,n,o,q,s,null)}}ou(e,f,E,C,L,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?cs(e,!!o,n,!1):s!=null&&cs(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,s,null)}hs(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,C,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Ct(al[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(o=s[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,L,o,s,null)}return;default:if(na(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&hd(e,n,q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function j1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,L=null,q=null;for(B in s){var Q=s[B];if(s.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(B)||$t(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":q=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&$t(e,n,z,B,o,Q)}}ea(e,g,E,C,L,q,f,h);return;case"select":B=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":B=C;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&$t(e,n,h,f,o,C)}n=E,s=g,o=B,z!=null?cs(e,!!s,z,!1):!!o!=!!s&&(n!=null?cs(e,!!s,n,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,o,f)}lu(e,z,B);return;case"option":for(var ot in s)z=s[ot],s.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,n,ot,null,o,z));for(C in o)z=o[C],B=s[C],o.hasOwnProperty(C)&&z!==B&&(z!=null||B!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":$t(e,n,C,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)z=s[pt],s.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt)&&$t(e,n,pt,null,o,z);for(L in o)if(z=o[L],B=s[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:$t(e,n,L,z,o,B)}return;default:if(na(n)){for(var Zt in s)z=s[Zt],s.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&hd(e,n,Zt,void 0,o,z);for(q in o)z=o[q],B=s[q],!o.hasOwnProperty(q)||z===B||z===void 0&&B===void 0||hd(e,n,q,z,o,B);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&$t(e,n,U,null,o,z);for(Q in o)z=o[Q],B=s[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||$t(e,n,Q,z,o,B)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Qy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],L=C.startTime;if(L>E)break;var q=C.transferSize,Q=C.initiatorType;q&&Qy(Q)&&(C=C.responseEnd,g+=q*(C<E?1:(E-L)/(C-L)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function q1(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(F1)}:$y;function F1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function Jy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);ka(n)}function Wy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),Wr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Y1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function Q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pn(e.nextSibling),e===null))return null;return e}function t_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function K1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function e_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function n_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function i_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var kn=new Map,s_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=nt.d;nt.d={f:X1,r:$1,D:Z1,C:J1,L:W1,m:tA,X:nA,S:eA,M:iA};function X1(){var e=Xi.f(),n=ic();return e||n}function $1(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Tp(n):Xi.r(e)}var xa=typeof document>"u"?null:document;function r_(e,n,s){var o=xa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function Z1(e){Xi.D(e),r_("dns-prefetch",e,null)}function J1(e,n){Xi.C(e,n),r_("preconnect",e,n)}function W1(e,n,s){Xi.L(e,n,s);var o=xa;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=Pa(e)}kn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function tA(e,n){Xi.m(e,n);var s=xa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!kn.has(f)&&(e=b({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function eA(e,n,s){Xi.S(e,n,s);var o=xa;if(o&&e){var h=oi(o).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&Ed(e,s);var C=g=o.createElement("link");ve(C),He(C,"link",e),C._p=new Promise(function(L,q){C.onload=L,C.onerror=q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function nA(e,n){Xi.X(e,n);var s=xa;if(s&&e){var o=oi(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0},n),(n=kn.get(h))&&Td(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function iA(e,n){Xi.M(e,n);var s=xa;if(s&&e){var o=oi(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Td(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function a_(e,n,s,o){var h=(h=wt.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||sA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+sn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function o_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function sA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function Pa(e){return'[src="'+sn(e)+'"]'}function cl(e){return"script[async]"+e}function l_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ua(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=o_(s),(h=kn.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,ve(h),h):(o=s,(h=kn.get(f))&&(o=b({},s),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function u_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function c_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function rA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function aA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=o_(o),(h=kn.get(h))&&Ed(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function oA(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*B1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(lA,e),pc=null,gc.call(e))}function lA(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function uA(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function f_(e,n,s,o,h,f,g,E,C,L,q,Q){return e=new uA(e,n,s,g,C,L,q,Q,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function d_(e){return e?(e=da,e):da}function m_(e,n,s,o,h,f){h=d_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=bs(e,o,n),s!==null&&(cn(s,e,n),Ho(s,e,n))}function g_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){g_(e,n),(e=e.alternate)&&g_(e,n)}function p_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&cn(n,e,67108864),Sd(e,67108864)}}function y_(e){if(e.tag===13||e.tag===31){var n=An();n=dr(n);var s=wr(e,n);s!==null&&cn(s,e,n),Sd(e,n)}}var _c=!0;function cA(e,n,s,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,bd(e,n,s,o)}finally{nt.p=f,H.T=h}}function hA(e,n,s,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,bd(e,n,s,o)}finally{nt.p=f,H.T=h}}function bd(e,n,s,o){if(_c){var h=wd(o);if(h===null)cd(e,n,o,vc,s),v_(e,o);else if(dA(h,e,n,s,o))o.stopPropagation();else if(v_(e,o),n&4&&-1<fA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ce(g);E.entanglements[1]|=C,g&=~C}Ei(f),(Bt&6)===0&&(ec=We()+500,rl(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&cn(E,f,2),ic(),Sd(f,2)}if(f=wd(o),f===null&&cd(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,s)}}function wd(e){return e=In(e),Rd(e)}var vc=null;function Rd(e){if(vc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case mo:return 2;case go:return 8;case ls:case Oh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Id=!1,Us=null,Ps=null,ks=null,fl=new Map,dl=new Map,Ls=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&p_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function dA(e,n,s,o,h){switch(n){case"focusin":return Us=ml(Us,e,n,s,o,h),!0;case"dragenter":return Ps=ml(Ps,e,n,s,o,h),!0;case"mouseover":return ks=ml(ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function E_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,qn(e.priority,function(){y_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,qn(e.priority,function(){y_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Io=o,s.target.dispatchEvent(o),Io=null}else return n=Rn(s),n!==null&&p_(n),e.blockedOn=s,!1;n.shift()}return!0}function T_(e,n,s){Ec(e)&&s.delete(n)}function mA(){Id=!1,Us!==null&&Ec(Us)&&(Us=null),Ps!==null&&Ec(Ps)&&(Ps=null),ks!==null&&Ec(ks)&&(ks=null),fl.forEach(T_),dl.forEach(T_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mA)))}var Ac=null;function A_(e){Ac!==e&&(Ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=Rn(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ka(e){function n(C){return Tc(C,e)}Us!==null&&Tc(Us,e),Ps!==null&&Tc(Ps,e),ks!==null&&Tc(ks,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Ls.length;s++){var o=Ls[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ls.length&&(s=Ls[0],s.blockedOn===null);)E_(s),s.blockedOn===null&&Ls.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[xe]||null;if(typeof f=="function")g||A_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(Rd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),A_(s)}}}function S_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Sc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=An();m_(s,o,e,n,null,null)},Sc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;m_(e.current,2,null,e,null,null),ic(),n[si]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ls.length&&n!==0&&n<Ls[s].priority;s++);Ls.splice(s,0,e),s===0&&E_(e)}};var b_=t.version;if(b_!=="19.2.3")throw Error(a(527,b_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var gA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{jn=bc.inject(gA),Le=bc}catch{}}return pl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Op,f=Mp,g=Vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=f_(e,1,!1,null,null,s,o,null,h,f,g,S_),e[si]=n.current,ud(e),new Cd(n)},pl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Op,g=Mp,E=Vp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=f_(e,1,!0,n,s??null,o,h,C,f,g,E,S_),n.context=d_(null),s=n.current,o=An(),o=dr(o),h=Ss(o),h.callback=null,bs(s,h,o),s=o,n.current.lanes=s,hr(n,s),Ei(n),e[si]=n.current,ud(e),new Sc(n)},pl.version="19.2.3",pl}var x_;function wA(){if(x_)return Od.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=bA(),Od.exports}var RA=wA();const IA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),U_=r=>{const t=CA(r);return t.charAt(0).toUpperCase()+t.slice(1)},_0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),NA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var DA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OA=me.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>me.createElement("svg",{ref:_,...DA,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:_0("lucide",l),...!c&&!NA(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>me.createElement(y,A)),...Array.isArray(c)?c:[c]]));const nn=(r,t)=>{const i=me.forwardRef(({className:a,...l},c)=>me.createElement(OA,{ref:c,iconNode:t,className:_0(`lucide-${IA(U_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=U_(r),i};const MA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VA=nn("circle-alert",MA);const xA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UA=nn("clock",xA);const PA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],P_=nn("dice-1",PA);const kA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]],LA=nn("dice-2",kA);const zA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],jA=nn("dice-3",zA);const BA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]],qA=nn("dice-4",BA);const HA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],GA=nn("dice-5",HA);const FA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],YA=nn("dice-6",FA);const QA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KA=nn("log-out",QA);const XA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],v0=nn("map-pin",XA);const $A=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ZA=nn("play",$A);const JA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WA=nn("plus",JA);const tS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eS=nn("settings",tS);const nS=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],iS=nn("tram-front",nS);const sS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rS=nn("users",sS),aS=()=>{};var k_={};const E0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},oS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(V=64)),a.push(i[A],i[b],i[V],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(E0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):oS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new lS;const V=c<<2|p>>4;if(a.push(V),y!==64){const G=p<<4&240|y>>2;if(a.push(G),b!==64){const Y=y<<6&192|b;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uS=function(r){const t=E0(r);return T0.encodeByteArray(t,!0)},Hc=function(r){return uS(r).replace(/\./g,"")},A0=function(r){try{return T0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hS=()=>cS().__FIREBASE_DEFAULTS__,fS=()=>{if(typeof process>"u"||typeof k_>"u")return;const r=k_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&A0(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return aS()||hS()||fS()||dS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S0=r=>uh()?.emulatorHosts?.[r],mS=r=>{const t=S0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},b0=()=>uh()?.config,w0=r=>uh()?.[`_${r}`];class gS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R0(r){return(await fetch(r,{credentials:"include"})).ok}function pS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Sl={};function yS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function _S(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let L_=!1;function I0(r,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Sl[r]===t||Sl[r]||L_)return;Sl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=yS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{L_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=_S(a),G=i("text"),Y=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),lt=i("preprendIcon"),dt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ht=V.element;p(ht),A(J,W);const qt=y();_(dt,lt),ht.append(dt,Y,J,qt),document.body.appendChild(ht)}c?(Y.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function ES(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const CS="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=CS,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?NS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new as(l,p,a)}}function NS(r,t){return r.replace(DS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const DS=/\{\$([^}]+)}/g;function OS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Js(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(z_(c)&&z_(d)){if(!Js(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function z_(r){return r!==null&&typeof r=="object"}function Ll(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function MS(r,t){const i=new VS(r,t);return i.subscribe.bind(i)}class VS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");xS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function Je(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Lr="[DEFAULT]";class US{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new gS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kS(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PS(r){return r===Lr?void 0:r}function kS(r){return r.instantiationMode==="EAGER"}class LS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new US(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const zS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},jS=Ot.INFO,BS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},qS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=BS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=jS,this._logHandler=qS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const HS=(r,t)=>t.some(i=>r instanceof i);let j_,B_;function GS(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FS(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,Qd=new WeakMap,N0=new WeakMap,Pd=new WeakMap,Em=new WeakMap;function YS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ys(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&C0.set(i,r)}).catch(()=>{}),Em.set(t,r),t}function QS(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||N0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function KS(r){Kd=r(Kd)}function XS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return N0.set(a,t.sort?t.sort():[t]),Ys(a)}:FS().includes(r)?function(...t){return r.apply(kd(this),t),Ys(C0.get(this))}:function(...t){return Ys(r.apply(kd(this),t))}}function $S(r){return typeof r=="function"?XS(r):(r instanceof IDBTransaction&&QS(r),HS(r,GS())?new Proxy(r,Kd):r)}function Ys(r){if(r instanceof IDBRequest)return YS(r);if(Pd.has(r))return Pd.get(r);const t=$S(r);return t!==r&&(Pd.set(r,t),Em.set(t,r)),t}const kd=r=>Em.get(r);function ZS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Ys(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const JS=["get","getKey","getAll","getAllKeys","count"],WS=["put","add","delete","clear"],Ld=new Map;function q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=WS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||JS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}KS(r=>({...r,get:(t,i,a)=>q_(t,i)||r.get(t,i,a),has:(t,i)=>!!q_(t,i)||r.has(t,i)}));class tb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function eb(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",H_="0.14.6";const ts=new vm("@firebase/app"),nb="@firebase/app-compat",ib="@firebase/analytics-compat",sb="@firebase/analytics",rb="@firebase/app-check-compat",ab="@firebase/app-check",ob="@firebase/auth",lb="@firebase/auth-compat",ub="@firebase/database",cb="@firebase/data-connect",hb="@firebase/database-compat",fb="@firebase/functions",db="@firebase/functions-compat",mb="@firebase/installations",gb="@firebase/installations-compat",pb="@firebase/messaging",yb="@firebase/messaging-compat",_b="@firebase/performance",vb="@firebase/performance-compat",Eb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Ab="@firebase/storage",Sb="@firebase/storage-compat",bb="@firebase/firestore",wb="@firebase/ai",Rb="@firebase/firestore-compat",Ib="firebase",Cb="12.6.0";const $d="[DEFAULT]",Nb={[Xd]:"fire-core",[nb]:"fire-core-compat",[sb]:"fire-analytics",[ib]:"fire-analytics-compat",[ab]:"fire-app-check",[rb]:"fire-app-check-compat",[ob]:"fire-auth",[lb]:"fire-auth-compat",[ub]:"fire-rtdb",[cb]:"fire-data-connect",[hb]:"fire-rtdb-compat",[fb]:"fire-fn",[db]:"fire-fn-compat",[mb]:"fire-iid",[gb]:"fire-iid-compat",[pb]:"fire-fcm",[yb]:"fire-fcm-compat",[_b]:"fire-perf",[vb]:"fire-perf-compat",[Eb]:"fire-rc",[Tb]:"fire-rc-compat",[Ab]:"fire-gcs",[Sb]:"fire-gcs-compat",[bb]:"fire-fst",[Rb]:"fire-fst-compat",[wb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};const Gc=new Map,Db=new Map,Zd=new Map;function G_(r,t){try{r.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Zd.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of Gc.values())G_(i,r);for(const i of Db.values())G_(i,r);return!0}function Tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ln(r){return r==null?!1:r.settings!==void 0}const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new kl("app","Firebase",Ob);class Mb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const so=Cb;function D0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:$d,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(i||(i=b0()),!i)throw Qs.create("no-options");const c=Gc.get(l);if(c){if(Js(i,c.options)&&Js(a,c.config))return c;throw Qs.create("duplicate-app",{appName:l})}const d=new LS(l);for(const _ of Zd.values())d.addComponent(_);const p=new Mb(i,a,d);return Gc.set(l,p),p}function O0(r=$d){const t=Gc.get(r);if(!t&&r===$d&&b0())return D0();if(!t)throw Qs.create("no-app",{appName:r});return t}function Ks(r,t,i){let a=Nb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Xa(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Vb="firebase-heartbeat-database",xb=1,Nl="firebase-heartbeat-store";let zd=null;function M0(){return zd||(zd=ZS(Vb,xb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),zd}async function Ub(r){try{const i=(await M0()).transaction(Nl),a=await i.objectStore(Nl).get(V0(r));return await i.done,a}catch(t){if(t instanceof as)ts.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function F_(r,t){try{const a=(await M0()).transaction(Nl,"readwrite");await a.objectStore(Nl).put(t,V0(r)),await a.done}catch(i){if(i instanceof as)ts.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});ts.warn(a.message)}}}function V0(r){return`${r.name}!${r.options.appId}`}const Pb=1024,kb=30;class Lb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kb){const l=Bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:i,unsentEntries:a}=zb(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ts.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function zb(r,t=Pb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class jb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?IS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ub(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Q_(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function Bb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function qb(r){Xa(new qr("platform-logger",t=>new tb(t),"PRIVATE")),Xa(new qr("heartbeat",t=>new Lb(t),"PRIVATE")),Ks(Xd,H_,r),Ks(Xd,H_,"esm2020"),Ks("fire-js","")}qb("");var Hb="firebase",Gb="12.7.0";Ks(Hb,Gb,"app");function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fb=x0,U0=new kl("auth","Firebase",x0());const Fc=new vm("@firebase/auth");function Yb(r,...t){Fc.logLevel<=Ot.WARN&&Fc.warn(`Auth (${so}): ${r}`,...t)}function Mc(r,...t){Fc.logLevel<=Ot.ERROR&&Fc.error(`Auth (${so}): ${r}`,...t)}function es(r,...t){throw Am(r,...t)}function Ai(r,...t){return Am(r,...t)}function P0(r,t,i){const a={...Fb(),[t]:i};return new kl("auth","Firebase",a).create(t,{appName:r.name})}function Wi(r){return P0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return U0.create(r,...t)}function _t(r,t,...i){if(!r)throw Am(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function ns(r,t){r||Zi(t)}function Jd(){return typeof self<"u"&&self.location?.href||""}function Qb(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}function Kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qb()||AS()||"connection"in navigator)?navigator.onLine:!0}function Xb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=vS()||SS()}get(){return Kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class k0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $b={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Zb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jb=new zl(3e4,6e4);function jl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ro(r,t,i,a,l={}){return L0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return TS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),k0.fetch()(await z0(r,r.config.apiHost,i,p),y)})}async function L0(r,t,i){r._canInitEmulator=!1;const a={...$b,...t};try{const l=new Wb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw P0(r,A,y);es(r,A)}}catch(l){if(l instanceof as)throw l;es(r,"network-request-failed",{message:String(l)})}}async function bm(r,t,i,a,l={}){const c=await ro(r,t,i,a,l);return"mfaPendingCredential"in c&&es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function z0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Sm(r.config,l):`${r.config.apiScheme}://${l}`;return Zb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Wb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),Jb.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ai(r,t,a);return l.customData._tokenResponse=i,l}async function tw(r,t){return ro(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return ro(r,"POST","/v1/accounts:lookup",t)}function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ew(r,t=!1){const i=Je(r),a=await i.getIdToken(t),l=wm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(jd(l.auth_time)),issuedAtTime:bl(jd(l.iat)),expirationTime:bl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function wm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=A0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function X_(r){const t=wm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&nw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function nw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class iw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Dl(r,Yc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?j0(l.providerUserInfo):[],d=rw(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function sw(r){const t=Je(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rw(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function j0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function aw(r,t){const i=await L0(r,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await z0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(_.credentials="include"),k0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ow(r,t){return ro(r,"POST","/v2/accounts:revokeToken",jl(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):X_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=X_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await aw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function js(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new iw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ew(this,t)}reload(){return sw(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Dl(this,tw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:G,providerData:Y,stsTokenManager:W}=i;_t(b&&W,t,"internal-error");const J=Ga.fromJSON(this.name,W);_t(typeof b=="string",t,"internal-error"),js(a,t.name),js(l,t.name),_t(typeof V=="boolean",t,"internal-error"),_t(typeof G=="boolean",t,"internal-error"),js(c,t.name),js(d,t.name),js(p,t.name),js(_,t.name),js(y,t.name),js(A,t.name);const lt=new Jn({uid:b,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:A});return Y&&Array.isArray(Y)&&(lt.providerData=Y.map(dt=>({...dt}))),_&&(lt._redirectEventId=_),lt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?j0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const $_=new Map;function Ji(r){ns(r instanceof Function,"Expected a class definition");let t=$_.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,$_.set(r,t),t)}class B0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}B0.type="NONE";const Z_=B0;function Vc(r,t,i){return`firebase:${r}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(Ji(Z_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(Z_);const d=Vc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const V=await Yc(t,{idToken:A}).catch(()=>{});if(!V)break;b=await Jn._fromGetAccountInfoResponse(t,V,A)}else b=Jn._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Fa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Fa(c,t,a))}}function J_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(F0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Q0(t))return"Blackberry";if(K0(t))return"Webos";if(H0(t))return"Safari";if((t.includes("chrome/")||G0(t))&&!t.includes("edge/"))return"Chrome";if(Y0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function q0(r=Ze()){return/firefox\//i.test(r)}function H0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function G0(r=Ze()){return/crios\//i.test(r)}function F0(r=Ze()){return/iemobile/i.test(r)}function Y0(r=Ze()){return/android/i.test(r)}function Q0(r=Ze()){return/blackberry/i.test(r)}function K0(r=Ze()){return/webos/i.test(r)}function Rm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lw(r=Ze()){return Rm(r)&&!!window.navigator?.standalone}function uw(){return bS()&&document.documentMode===10}function X0(r=Ze()){return Rm(r)||Y0(r)||K0(r)||Q0(r)||/windows phone/i.test(r)||F0(r)}function $0(r,t=[]){let i;switch(r){case"Browser":i=J_(Ze());break;case"Worker":i=`${J_(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class cw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function hw(r,t={}){return ro(r,"GET","/v2/passwordPolicy",jl(r,t))}const fw=6;class dw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??fw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class mw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new cw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Xb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Wi(this));const i=t?Je(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hw(this),i=new dw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await ow(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Yb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(r){return Je(r)}class W_{constructor(t){this.auth=t,this.observer=null,this.addObserver=MS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gw(r){Im=r}function pw(r){return Im.loadJS(r)}function yw(){return Im.gapiScript}function _w(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function vw(r,t){const i=Tm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Js(c,t??{}))return l;es(l,"already-initialized")}return i.initialize({options:t})}function Ew(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Tw(r,t,i){const a=Bl(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Z0(t),{host:d,port:p}=Aw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Js(y,a.config.emulator)&&Js(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,io(d)?(R0(`${c}//${d}${_}`),I0("Auth",!0)):Sw()}function Z0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Aw(r){const t=Z0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:tv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:tv(d)}}}function tv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Sw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class J0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Ya(r,t){return bm(r,"POST","/v1/accounts:signInWithIdp",jl(r,t))}const bw="http://localhost";class Hr extends J0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Hr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:bw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class W0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends W0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends ql{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class qs extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends ql{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Gs extends ql{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function ww(r,t){return bm(r,"POST","/v1/accounts:signUp",jl(r,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=ev(a);return new is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=ev(a);return new is({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Rw(r){if(Ln(r.app))return Promise.reject(Wi(r));const t=Bl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ww(t,{returnSecureToken:!0}),a=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends as{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function tE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function Iw(r,t,i=!1){const a=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return is._forOperation(r,"link",a)}async function Cw(r,t,i=!1){const{auth:a}=r;if(Ln(a.app))return Promise.reject(Wi(a));const l="reauthenticate";try{const c=await Dl(r,tE(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=wm(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),is._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(a,"user-mismatch"),c}}async function Nw(r,t,i=!1){if(Ln(r.app))return Promise.reject(Wi(r));const a="signIn",l=await tE(r,a,t),c=await is._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Dw(r,t){return bm(r,"POST","/v1/accounts:signInWithCustomToken",jl(r,t))}async function Ow(r,t){if(Ln(r.app))return Promise.reject(Wi(r));const i=Bl(r),a=await Dw(i,{token:t,returnSecureToken:!0}),l=await is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Mw(r,t,i,a){return Je(r).onIdTokenChanged(t,i,a)}function Vw(r,t,i){return Je(r).beforeAuthStateChanged(t,i)}function xw(r,t,i,a){return Je(r).onAuthStateChanged(t,i,a)}const Xc="__sak";class eE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uw=1e3,Pw=10;class nE extends eE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);uw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Pw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}nE.type="LOCAL";const kw=nE;class iE extends eE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}iE.type="SESSION";const sE=iE;function Lw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Lw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class zw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Cm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function jw(r){Si().location.href=r}function rE(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function Bw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qw(){return navigator?.serviceWorker?.controller||null}function Hw(){return rE()?self:null}const aE="firebaseLocalStorageDb",Gw=1,$c="firebaseLocalStorage",oE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function Fw(){const r=indexedDB.deleteDatabase(aE);return new Hl(r).toPromise()}function tm(){const r=indexedDB.open(aE,Gw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:oE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await Fw(),t(await tm()))})})}async function nv(r,t,i){const a=hh(r,!0).put({[oE]:t,value:i});return new Hl(a).toPromise()}async function Yw(r,t){const i=hh(r,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function iv(r,t){const i=hh(r,!0).delete(t);return new Hl(i).toPromise()}const Qw=800,Kw=3;class lE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Kw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(Hw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Bw(),!this.activeServiceWorker)return;this.sender=new zw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await nv(t,Xc,"1"),await iv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>nv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Yw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lE.type="LOCAL";const Xw=lE;new zl(3e4,6e4);function $w(r,t){return t?Ji(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Nm extends J0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Zw(r){return Nw(r.auth,new Nm(r),r.bypassAuthState)}function Jw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),Cw(i,new Nm(r),r.bypassAuthState)}async function Ww(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),Iw(i,new Nm(r),r.bypassAuthState)}class uE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Zw;case"linkViaPopup":case"linkViaRedirect":return Ww;case"reauthViaPopup":case"reauthViaRedirect":return Jw;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tR=new zl(2e3,1e4);class Ha extends uE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tR.get())};t()}}Ha.currentPopupAction=null;const eR="pendingRedirect",xc=new Map;class nR extends uE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const a=await iR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iR(r,t){const i=aR(t),a=rR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function sR(r,t){xc.set(r._key(),t)}function rR(r){return Ji(r._redirectPersistence)}function aR(r){return Vc(eR,r.config.apiKey,r.name)}async function oR(r,t,i=!1){if(Ln(r.app))return Promise.reject(Wi(r));const a=Bl(r),l=$w(a,t),d=await new nR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const lR=600*1e3;class uR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!cE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lR&&this.cachedEventUids.clear(),this.cachedEventUids.has(sv(t))}saveEventToCache(t){this.cachedEventUids.add(sv(t)),this.lastProcessedEventTime=Date.now()}}function sv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function cE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function cR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(r);default:return!1}}async function hR(r,t={}){return ro(r,"GET","/v1/projects",t)}const fR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dR=/^https?/;async function mR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await hR(r);for(const i of t)try{if(gR(i))return}catch{}es(r,"unauthorized-domain")}function gR(r){const t=Jd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!dR.test(i))return!1;if(fR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const pR=new zl(3e4,6e4);function rv(){const r=Si().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function yR(r){return new Promise((t,i)=>{function a(){rv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rv(),i(Ai(r,"network-request-failed"))},timeout:pR.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const l=_w("iframefcb");return Si()[l]=()=>{gapi.load?a():i(Ai(r,"network-request-failed"))},pw(`${yw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function _R(r){return Uc=Uc||yR(r),Uc}const vR=new zl(5e3,15e3),ER="__/auth/iframe",TR="emulator/auth/iframe",AR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bR(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Sm(t,TR):`https://${r.config.authDomain}/${ER}`,a={apiKey:t.apiKey,appName:r.name,v:so},l=SR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function wR(r){const t=await _R(r),i=Si().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:bR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(r,"network-request-failed"),p=Si().setTimeout(()=>{c(d)},vR.get());function _(){Si().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const RR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IR=500,CR=600,NR="_blank",DR="http://localhost";class av{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OR(r,t,i,a=IR,l=CR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...RR,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=G0(y)?NR:i),q0(y)&&(t=t||DR,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[G,Y])=>`${V}${G}=${Y},`,"");if(lw(y)&&p!=="_self")return MR(t||"",p),new av(null);const b=window.open(t||"",p,A);_t(b,r,"popup-blocked");try{b.focus()}catch{}return new av(b)}function MR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const VR="__/auth/handler",xR="emulator/auth/handler",UR=encodeURIComponent("fac");async function ov(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:so,eventId:l};if(t instanceof W0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",OS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof ql){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${UR}=${encodeURIComponent(_)}`:"";return`${PR(r)}?${Ll(p).slice(1)}${y}`}function PR({config:r}){return r.emulator?Sm(r,xR):`https://${r.authDomain}/${VR}`}const Bd="webStorageSupport";class kR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=oR,this._overrideRedirectResult=sR}async _openPopup(t,i,a,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ov(t,i,a,Jd(),l);return OR(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await ov(t,i,a,Jd(),l);return jw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await wR(t),a=new uR(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return X0()||H0()||Rm()}}const LR=kR;var lv="@firebase/auth",uv="1.12.0";class zR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BR(r){Xa(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(r)},y=new mw(a,l,c,_);return Ew(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(a=>new zR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(lv,uv,jR(r)),Ks(lv,uv,"esm2020")}const qR=300,HR=w0("authIdTokenMaxAge")||qR;let cv=null;const GR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>HR)return;const l=i?.token;cv!==l&&(cv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function FR(r=O0()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=vw(r,{popupRedirectResolver:LR,persistence:[Xw,kw,sE]}),a=w0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=GR(c.toString());Vw(i,d,()=>d(i.currentUser)),Mw(i,p=>d(p))}}const l=S0("auth");return l&&Tw(i,`http://${l}`),i}function YR(){return document.getElementsByTagName("head")?.[0]??document}gw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ai("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",YR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BR("Browser");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,hE;(function(){var r;function t(R,S){function w(){}w.prototype=S.prototype,R.F=S.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(M,N,x){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return S.prototype[N].apply(M,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,S,w){w||(w=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;N<16;++N)M[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=R.g[0],w=R.g[1],N=R.g[2];let x=R.g[3],I;I=S+(x^w&(N^x))+M[0]+3614090360&4294967295,S=w+(I<<7&4294967295|I>>>25),I=x+(N^S&(w^N))+M[1]+3905402710&4294967295,x=S+(I<<12&4294967295|I>>>20),I=N+(w^x&(S^w))+M[2]+606105819&4294967295,N=x+(I<<17&4294967295|I>>>15),I=w+(S^N&(x^S))+M[3]+3250441966&4294967295,w=N+(I<<22&4294967295|I>>>10),I=S+(x^w&(N^x))+M[4]+4118548399&4294967295,S=w+(I<<7&4294967295|I>>>25),I=x+(N^S&(w^N))+M[5]+1200080426&4294967295,x=S+(I<<12&4294967295|I>>>20),I=N+(w^x&(S^w))+M[6]+2821735955&4294967295,N=x+(I<<17&4294967295|I>>>15),I=w+(S^N&(x^S))+M[7]+4249261313&4294967295,w=N+(I<<22&4294967295|I>>>10),I=S+(x^w&(N^x))+M[8]+1770035416&4294967295,S=w+(I<<7&4294967295|I>>>25),I=x+(N^S&(w^N))+M[9]+2336552879&4294967295,x=S+(I<<12&4294967295|I>>>20),I=N+(w^x&(S^w))+M[10]+4294925233&4294967295,N=x+(I<<17&4294967295|I>>>15),I=w+(S^N&(x^S))+M[11]+2304563134&4294967295,w=N+(I<<22&4294967295|I>>>10),I=S+(x^w&(N^x))+M[12]+1804603682&4294967295,S=w+(I<<7&4294967295|I>>>25),I=x+(N^S&(w^N))+M[13]+4254626195&4294967295,x=S+(I<<12&4294967295|I>>>20),I=N+(w^x&(S^w))+M[14]+2792965006&4294967295,N=x+(I<<17&4294967295|I>>>15),I=w+(S^N&(x^S))+M[15]+1236535329&4294967295,w=N+(I<<22&4294967295|I>>>10),I=S+(N^x&(w^N))+M[1]+4129170786&4294967295,S=w+(I<<5&4294967295|I>>>27),I=x+(w^N&(S^w))+M[6]+3225465664&4294967295,x=S+(I<<9&4294967295|I>>>23),I=N+(S^w&(x^S))+M[11]+643717713&4294967295,N=x+(I<<14&4294967295|I>>>18),I=w+(x^S&(N^x))+M[0]+3921069994&4294967295,w=N+(I<<20&4294967295|I>>>12),I=S+(N^x&(w^N))+M[5]+3593408605&4294967295,S=w+(I<<5&4294967295|I>>>27),I=x+(w^N&(S^w))+M[10]+38016083&4294967295,x=S+(I<<9&4294967295|I>>>23),I=N+(S^w&(x^S))+M[15]+3634488961&4294967295,N=x+(I<<14&4294967295|I>>>18),I=w+(x^S&(N^x))+M[4]+3889429448&4294967295,w=N+(I<<20&4294967295|I>>>12),I=S+(N^x&(w^N))+M[9]+568446438&4294967295,S=w+(I<<5&4294967295|I>>>27),I=x+(w^N&(S^w))+M[14]+3275163606&4294967295,x=S+(I<<9&4294967295|I>>>23),I=N+(S^w&(x^S))+M[3]+4107603335&4294967295,N=x+(I<<14&4294967295|I>>>18),I=w+(x^S&(N^x))+M[8]+1163531501&4294967295,w=N+(I<<20&4294967295|I>>>12),I=S+(N^x&(w^N))+M[13]+2850285829&4294967295,S=w+(I<<5&4294967295|I>>>27),I=x+(w^N&(S^w))+M[2]+4243563512&4294967295,x=S+(I<<9&4294967295|I>>>23),I=N+(S^w&(x^S))+M[7]+1735328473&4294967295,N=x+(I<<14&4294967295|I>>>18),I=w+(x^S&(N^x))+M[12]+2368359562&4294967295,w=N+(I<<20&4294967295|I>>>12),I=S+(w^N^x)+M[5]+4294588738&4294967295,S=w+(I<<4&4294967295|I>>>28),I=x+(S^w^N)+M[8]+2272392833&4294967295,x=S+(I<<11&4294967295|I>>>21),I=N+(x^S^w)+M[11]+1839030562&4294967295,N=x+(I<<16&4294967295|I>>>16),I=w+(N^x^S)+M[14]+4259657740&4294967295,w=N+(I<<23&4294967295|I>>>9),I=S+(w^N^x)+M[1]+2763975236&4294967295,S=w+(I<<4&4294967295|I>>>28),I=x+(S^w^N)+M[4]+1272893353&4294967295,x=S+(I<<11&4294967295|I>>>21),I=N+(x^S^w)+M[7]+4139469664&4294967295,N=x+(I<<16&4294967295|I>>>16),I=w+(N^x^S)+M[10]+3200236656&4294967295,w=N+(I<<23&4294967295|I>>>9),I=S+(w^N^x)+M[13]+681279174&4294967295,S=w+(I<<4&4294967295|I>>>28),I=x+(S^w^N)+M[0]+3936430074&4294967295,x=S+(I<<11&4294967295|I>>>21),I=N+(x^S^w)+M[3]+3572445317&4294967295,N=x+(I<<16&4294967295|I>>>16),I=w+(N^x^S)+M[6]+76029189&4294967295,w=N+(I<<23&4294967295|I>>>9),I=S+(w^N^x)+M[9]+3654602809&4294967295,S=w+(I<<4&4294967295|I>>>28),I=x+(S^w^N)+M[12]+3873151461&4294967295,x=S+(I<<11&4294967295|I>>>21),I=N+(x^S^w)+M[15]+530742520&4294967295,N=x+(I<<16&4294967295|I>>>16),I=w+(N^x^S)+M[2]+3299628645&4294967295,w=N+(I<<23&4294967295|I>>>9),I=S+(N^(w|~x))+M[0]+4096336452&4294967295,S=w+(I<<6&4294967295|I>>>26),I=x+(w^(S|~N))+M[7]+1126891415&4294967295,x=S+(I<<10&4294967295|I>>>22),I=N+(S^(x|~w))+M[14]+2878612391&4294967295,N=x+(I<<15&4294967295|I>>>17),I=w+(x^(N|~S))+M[5]+4237533241&4294967295,w=N+(I<<21&4294967295|I>>>11),I=S+(N^(w|~x))+M[12]+1700485571&4294967295,S=w+(I<<6&4294967295|I>>>26),I=x+(w^(S|~N))+M[3]+2399980690&4294967295,x=S+(I<<10&4294967295|I>>>22),I=N+(S^(x|~w))+M[10]+4293915773&4294967295,N=x+(I<<15&4294967295|I>>>17),I=w+(x^(N|~S))+M[1]+2240044497&4294967295,w=N+(I<<21&4294967295|I>>>11),I=S+(N^(w|~x))+M[8]+1873313359&4294967295,S=w+(I<<6&4294967295|I>>>26),I=x+(w^(S|~N))+M[15]+4264355552&4294967295,x=S+(I<<10&4294967295|I>>>22),I=N+(S^(x|~w))+M[6]+2734768916&4294967295,N=x+(I<<15&4294967295|I>>>17),I=w+(x^(N|~S))+M[13]+1309151649&4294967295,w=N+(I<<21&4294967295|I>>>11),I=S+(N^(w|~x))+M[4]+4149444226&4294967295,S=w+(I<<6&4294967295|I>>>26),I=x+(w^(S|~N))+M[11]+3174756917&4294967295,x=S+(I<<10&4294967295|I>>>22),I=N+(S^(x|~w))+M[2]+718787259&4294967295,N=x+(I<<15&4294967295|I>>>17),I=w+(x^(N|~S))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+x&4294967295}a.prototype.v=function(R,S){S===void 0&&(S=R.length);const w=S-this.blockSize,M=this.C;let N=this.h,x=0;for(;x<S;){if(N==0)for(;x<=w;)l(this,R,x),x+=this.blockSize;if(typeof R=="string"){for(;x<S;)if(M[N++]=R.charCodeAt(x++),N==this.blockSize){l(this,M),N=0;break}}else for(;x<S;)if(M[N++]=R[x++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)R[S++]=this.g[w]>>>M&255;return R};function c(R,S){var w=p;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=S(R)}function d(R,S){this.h=S;const w=[];let M=!0;for(let N=R.length-1;N>=0;N--){const x=R[N]|0;M&&x==S||(w[N]=x,M=!1)}this.g=w}var p={};function _(R){return-128<=R&&R<128?c(R,function(S){return new d([S|0],S<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return J(y(-R));const S=[];let w=1;for(let M=0;R>=w;M++)S[M]=R/w|0,w*=4294967296;return new d(S,0)}function A(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return J(A(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(S,8));let M=b;for(let x=0;x<R.length;x+=8){var N=Math.min(8,R.length-x);const I=parseInt(R.substring(x,x+N),S);N<8?(N=y(Math.pow(S,N)),M=M.j(N).add(y(I))):(M=M.j(w),M=M.add(y(I)))}return M}var b=_(0),V=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let R=0,S=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);R+=(M>=0?M:4294967296+M)*S,S*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Y(this))return"0";if(W(this))return"-"+J(this).toString(R);const S=y(Math.pow(R,6));var w=this;let M="";for(;;){const N=qt(w,S).g;w=lt(w,N.j(S));let x=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=N,Y(w))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Y(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function W(R){return R.h==-1}r.l=function(R){return R=lt(this,R),W(R)?-1:Y(R)?0:1};function J(R){const S=R.g.length,w=[];for(let M=0;M<S;M++)w[M]=~R.g[M];return new d(w,~R.h).add(V)}r.abs=function(){return W(this)?J(this):this},r.add=function(R){const S=Math.max(this.g.length,R.g.length),w=[];let M=0;for(let N=0;N<=S;N++){let x=M+(this.i(N)&65535)+(R.i(N)&65535),I=(x>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);M=I>>>16,x&=65535,I&=65535,w[N]=I<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function lt(R,S){return R.add(J(S))}r.j=function(R){if(Y(this)||Y(R))return b;if(W(this))return W(R)?J(this).j(J(R)):J(J(this).j(R));if(W(R))return J(this.j(J(R)));if(this.l(G)<0&&R.l(G)<0)return y(this.m()*R.m());const S=this.g.length+R.g.length,w=[];for(var M=0;M<2*S;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<R.g.length;N++){const x=this.i(M)>>>16,I=this.i(M)&65535,ie=R.i(N)>>>16,Ce=R.i(N)&65535;w[2*M+2*N]+=I*Ce,dt(w,2*M+2*N),w[2*M+2*N+1]+=x*Ce,dt(w,2*M+2*N+1),w[2*M+2*N+1]+=I*ie,dt(w,2*M+2*N+1),w[2*M+2*N+2]+=x*ie,dt(w,2*M+2*N+2)}for(R=0;R<S;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=S;R<2*S;R++)w[R]=0;return new d(w,0)};function dt(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function ht(R,S){this.g=R,this.h=S}function qt(R,S){if(Y(S))throw Error("division by zero");if(Y(R))return new ht(b,b);if(W(R))return S=qt(J(R),S),new ht(J(S.g),J(S.h));if(W(S))return S=qt(R,J(S)),new ht(J(S.g),S.h);if(R.g.length>30){if(W(R)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var w=V,M=S;M.l(R)<=0;)w=et(w),M=et(M);var N=st(w,1),x=st(M,1);for(M=st(M,2),w=st(w,2);!Y(M);){var I=x.add(M);I.l(R)<=0&&(N=N.add(w),x=I),M=st(M,1),w=st(w,1)}return S=lt(R,N.j(S)),new ht(N,S)}for(N=b;R.l(S)>=0;){for(w=Math.max(1,Math.floor(R.m()/S.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=y(w),I=x.j(S);W(I)||I.l(R)>0;)w-=M,x=y(w),I=x.j(S);Y(x)&&(x=V),N=N.add(x),R=lt(R,I)}return new ht(N,R)}r.B=function(R){return qt(this,R).h},r.and=function(R){const S=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)&R.i(M);return new d(w,this.h&R.h)},r.or=function(R){const S=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)|R.i(M);return new d(w,this.h|R.h)},r.xor=function(R){const S=Math.max(this.g.length,R.g.length),w=[];for(let M=0;M<S;M++)w[M]=this.i(M)^R.i(M);return new d(w,this.h^R.h)};function et(R){const S=R.g.length+1,w=[];for(let M=0;M<S;M++)w[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(w,R.h)}function st(R,S){const w=S>>5;S%=32;const M=R.g.length-w,N=[];for(let x=0;x<M;x++)N[x]=S>0?R.i(x+w)>>>S|R.i(x+w+1)<<32-S:R.i(x+w);return new d(N,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,hE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Xs=d}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fE,yl,dE,Pc,em,mE,gE,pE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,j){for(var tt=Array(arguments.length-2),St=2;St<arguments.length;St++)tt[St-2]=arguments[St];return m.prototype[P].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Y(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const j=P.length||0;u.length=v+j;for(let tt=0;tt<j;tt++)u[v+tt]=P[tt]}else u.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new W(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,st=!1,R=new dt,S=()=>{const u=Promise.resolve(void 0);et=()=>{u.then(w)}};function w(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){J(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}st=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let j=0;j<K.length;j++)v=K[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,P){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=wt(u,m,T,P);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,j,!!T,P),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),j;(j=P>=0)&&Array.prototype.splice.call(T,P,1),j&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let P=0;P<u.length;++P){const j=u[P];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return P}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,v,T,P){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(u,m[j],v,T,P);return null}return v=fo(v),u&&u[Ce]?u.J(m,v,p(T)?!!T.capture:!1,P):or(u,m,v,!1,T,P)}function or(u,m,v,T,P,j){if(!m)throw Error("Invalid event type");const tt=p(P)?!!P.capture:!!P;let St=lr(u);if(St||(u[Ut]=St=new at(u)),v=St.add(m,v,T,tt,j),v.proxy)return v;if(T=Kr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)x||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kr(){function u(v){return m.call(u.src,u.listener,v)}const m=co;return u}function Xr(u,m,v,T,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)Xr(u,m[j],v,T,P);else T=p(T)?!!T.capture:!!T,v=fo(v),u&&u[Ce]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=wt(m,v,T,P),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,P)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=lr(m))?(vt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):mt(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function lr(u){return u=u[Ut],u instanceof at?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function pe(){M.call(this),this.i=new at(this),this.M=this,this.G=null}b(pe,M),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Xr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),it(m,P)}P=!0;let j,tt;if(v)for(tt=v.length-1;tt>=0;tt--)j=m.g=v[tt],P=os(j,T,!0,m)&&P;if(j=m.g=u,P=os(j,T,!0,m)&&P,P=os(j,T,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)j=m.g=v[tt],P=os(j,T,!1,m)&&P}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)mt(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function os(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==v){const St=tt.listener,he=tt.ha||tt.src;tt.fa&&vt(u.i,tt),P=St.call(he,T)!==!1&&P}}return P&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){M.call(this),this.h=u,this.g={}}b(ur,M);var mo=[];function go(u){kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),go(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Oh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){N.call(this,"d")}b(Le,N);function wn(){N.call(this,"c")}b(wn,N);var ce={},tu=null;function Zr(){return tu=tu||new pe}ce.Ia="serverreachability";function eu(u){N.call(this,ce.Ia,u)}b(eu,N);function ti(u){const m=Zr();De(m,new eu(m))}ce.STAT_EVENT="statevent";function cr(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(cr,N);function ye(u){const m=Zr();De(m,new cr(m,u))}ce.Ja="timingevent";function ei(u,m){N.call(this,ce.Ja,u),this.size=m}b(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,T,P,j){u.info(function(){if(u.g)if(j){var tt="",St=j.split("&");for(let jt=0;jt<St.length;jt++){var he=St[jt].split("=");if(he.length>1){const re=he[0];he=he[1];const Nn=re.split("_");tt=Nn.length>=2&&Nn[1]=="type"?tt+(re+"="+he+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,T,P,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+j+" "+tt})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ls(j)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function dr(){}b(dr,Jl),dr.prototype.g=function(){return new XMLHttpRequest},yo=new dr;function Oi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function si(u,m,v){u.M=1,u.A=mr(Ee(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),ri(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Hn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(mo[0]=P.toString()),P=mo);for(let j=0;j<P.length;j++){const tt=se(v,P[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Yn(this.g),he=this.g.ya(),jt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||he==7||(he==8||jt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=xh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var j=T;break e}}j=null}if(u=j)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),mn(this),Rn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=ru(this,v),re==xe){St==4&&(this.m=4,ye(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,re,null),oi(this,re);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(tt),tt.P=!0,ye(11))}}else ii(this.i,this.l,v,null),oi(this,v);St==4&&mn(this),this.o&&!this.K&&(St==4?mu(this.j,this):(this.o=!1,ri(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),mn(this),Rn(this)}}}catch{}};function xh(u){if(!su(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,P=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(P&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ri(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ti(),ye(17)),mn(this),this.m=2,Rn(this)):Wr(this,this.T-u)};function Rn(u){u.j.I==0||u.K||mu(u.j,u)}function mn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ps(v);else break t;Tr(v),ye(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(y(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&oa(v),!I(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const re=jt[0];if(!(re<=v.K))if(v.K=re,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Nn=jt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const pi=jt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Qn=jt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const Ar=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var j=T.h;j.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Eo(j,j.h),j.h=null))}if(T.G){const la=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Ft(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=yu(T,T.L?T.ba:null,T.W),tt.L){To(T.h,tt);var St=tt,he=T.O;he&&(St.H=he),St.D&&(ai(St),ri(St)),T.g=tt}else fu(T);v.i.length>0&&mi(v)}else jt[0]!="stop"&&jt[0]!="close"||gi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?gi(v,7):Do(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ti(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,j=null;T>=0?(P=u[v].substring(0,T),j=u[v].substring(T+1)):P=u[v],m(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,So(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),us(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,ea,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?bo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,lu)),u.join("")},gn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let tt=0;tt<P.length;){const St=P[tt++];St=="."?T&&tt==P.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&tt==P.length&&j.push("")):(j.push(St),T=!0)}T=j.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?So(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new gn(u)}function Ue(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof hs?(u.i=m,ia(u.i,u.l)):(v||(m=gr(m,cs)),u.i=new hs(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function mr(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,ou=/[#\?:]/g,bo=/[#\?]/g,cs=/[#\?@]/g,lu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hs.prototype,r.add=function(u,m){rn(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){rn(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return rn(u),m=fs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ro(u,m){rn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return rn(this),this.i=null,u=fs(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Oi(v);v=Ro(this,v);for(let j=0;j<v.length;j++){let tt=P;v[j]!==""&&(tt+="="+Oi(v[j])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(uu(this,T),na(this,P,v))},u)),u.j=m}function Gn(u,m){const v=new Bn;if(d.Image){const T=new Image;T.onload=A(In,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(In,v,"TestLoadImage: error",!1,m,T),T.onabort=A(In,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(In,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Io(u,m){const v=new Bn,T=new AbortController,P=setTimeout(()=>{T.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(P),j.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ds(){this.g=new Zl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(hi,Jl),hi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(pr,pe),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Fn(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},r.Na=function(u){this.g&&(this.response=u,ms(this))},r.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Cn(v),typeof u=="string"?v!=null&&Oi(v):Ft(u,m,v))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,pe);var fi=/^https?$/i,Co=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){_r(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){_r(this,j)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Mi(u)}function No(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!fi.test(tt?tt.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=Yn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",No(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=iu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[P]||[];m[P]=j,j.push(v)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),mi(this)};function Do(u){if(ra(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),Er(u,v),m=new qn(u,u.j,m),m.M=2,m.A=mr(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}pu(u)}function ps(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function ra(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;et||S(),st||(et(),st=!0),R.add(m,u),u.D=0}}function aa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new qn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),it(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,P,m),v=Ee(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),Er(this,v),j&&(this.R?m="headers="+Oi(Cn(j))+"&"+m:this.u&&yr(v,this.u,j)),Eo(this.h,P),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Ft(T,"SID",u.M),Ft(T,"RID",v),Ft(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),si(v,T,m)}function Er(u,m){u.H&&kt(u.H,function(v,T){Ft(m,T,v)}),u.l&&kt({},function(v,T){Ft(m,T,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let St=-1;for(;;){const he=["count="+v];St==-1?v>0?(St=P[0].g,he.push("ofs="+St)):St=0:he.push("ofs="+St);let jt=!0;for(let re=0;re<v;re++){var j=P[re].g;const Nn=P[re].map;if(j-=St,j<0)St=Math.max(0,P[re].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var tt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[pi,Qn]of tt){let Kn=Qn;p(Qn)&&(Kn=ls(Qn)),he.push(j+pi+"="+encodeURIComponent(Kn))}}catch(pi){throw he.push(j+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Nn)}}if(jt){tt=he.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;et||S(),st||(et(),st=!0),R.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ps(this),du(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Ee(m)),v.u=null,v.R=!0,Jr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ps(this),Tr(this),ye(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){oa(u),Mo(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Zr(),De(T,new ei(T,v)),mi(u)}else fu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),mr(T),P?Gn(T.toString(),v):Io(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),pu(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ja,m),Y(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var T=v instanceof gn?Ee(v):new gn(v);if(T.g!="")m&&(T.g=m+"."+T.g),us(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const j=new gn(null);T&&Ue(j,T),m&&(j.g=m),P&&us(j,P),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",u.ka),Er(u,T),T}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new hi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}b(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Do(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,tn.Z.N.call(this)};function Eu(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Eu,Le);function Tu(){wn.call(this),this.status=1}b(Tu,wn);function xi(u){this.g=u}b(xi,vu),xi.prototype.ra=function(){De(this.g,"a")},xi.prototype.qa=function(u){De(this.g,new Eu(u))},xi.prototype.pa=function(u){De(this.g,new Tu)},xi.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,pE=function(){return new ys},gE=function(){return Zr()},mE=ce,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Pc=fr,po.COMPLETE="complete",dE=po,Wl.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,yl=Wl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,fE=Kt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",dv="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let ao="12.7.0";const Gr=new vm("@firebase/firestore");function La(){return Gr.logLevel}function rt(r,...t){if(Gr.logLevel<=Ot.DEBUG){const i=t.map(Dm);Gr.debug(`Firestore (${ao}): ${r}`,...i)}}function ss(r,...t){if(Gr.logLevel<=Ot.ERROR){const i=t.map(Dm);Gr.error(`Firestore (${ao}): ${r}`,...i)}}function $a(r,...t){if(Gr.logLevel<=Ot.WARN){const i=t.map(Dm);Gr.warn(`Firestore (${ao}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,yE(r,a,i)}function yE(r,t,i){let a=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||yE(t,l,a)}function At(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class _E{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class KR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class XR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new _E(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class $R{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new $R(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=WR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return qd(l)===qd(c)?Mt(l,c):qd(l)?1:-1}return Mt(r.length,t.length)}const t2=55296,e2=57343;function qd(r){const t=r.charCodeAt(0);return t>=t2&&t<=e2}function Za(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const gv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class ee extends Ti{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const n2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ti{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return n2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Fe([gv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}function vE(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function i2(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!gt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yv(r){if(gt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function EE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function $s(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Re(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!EE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const _v=-62135596800,vv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*vv);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_v)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_v;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ne(0,0))}static max(){return new Et(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function s2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Ws(l,gt.empty(),t)}function r2(r){return new Ws(r.readTime,r.key,Ol)}class Ws{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ws(Et.min(),gt.empty(),Ol)}static max(){return new Ws(Et.max(),gt.empty(),Ol)}}function a2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function oo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==o2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function u2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function lo(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Vm=-1;function dh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function c2(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const TE="";function h2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Ev(t)),t=f2(r.get(i),t);return Ev(t)}function f2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case TE:i+="";break;default:i+=c}}return i}function Ev(r){return r+TE+""}function Tv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function rr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function AE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new SE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=d2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function er(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const bE="server_timestamp",wE="__type__",RE="__previous_value__",IE="__local_write_time__";function xm(r){return(r?.mapValue?.fields||{})[wE]?.stringValue===bE}function mh(r){const t=r.mapValue.fields[RE];return xm(t)?mh(t):t}function Ml(r){const t=tr(r.mapValue.fields[IE].timestampValue);return new ne(t.seconds,t.nanos)}class m2{constructor(t,i,a,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Jc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}const CE="__type__",g2="__max__",Cc={mapValue:{}},NE="__vector__",Wc="value";function nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:y2(r)?9007199254740991:p2(r)?10:11:yt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=nr(r);if(i!==nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=tr(l.timestampValue),p=tr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return er(l.bytesValue).isEqual(er(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Tv(d)!==Tv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ni(d[_],p[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function xl(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=nr(r),a=nr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Sv(r.timestampValue,t.timestampValue);case 4:return Sv(Ml(r),Ml(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=er(c),_=er(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Mt(p[y],_[y]);if(A!==0)return A}return Mt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ge(c.latitude),ge(d.latitude));return p!==0?p:Mt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Wc]?.arrayValue,A=_[Wc]?.arrayValue,b=Mt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:bv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const V=nm(_[b],A[b]);if(V!==0)return V;const G=Ja(p[_[b]],y[A[b]]);if(G!==0)return G}return Mt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=tr(r),a=tr(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function bv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Wa(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=tr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function kc(r){switch(nr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return er(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return rr(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Um(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function p2(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===NE}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return rr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(r.arrayValue.values[i]);return t}return{...r}}function y2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){rr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(wl(this.value))}}function DE(r){const t=[];return rr(r.fields,((i,a)=>{const l=new Fe([i]);if(Lc(a)){const c=DE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new bn(t)}class $e{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,Et.min(),Et.min(),Et.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,Et.min(),Et.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,Et.min(),Et.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function Iv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function _2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class OE{}class Me extends OE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new E2(t,i,a):i==="array-contains"?new S2(t,a):i==="in"?new b2(t,a):i==="not-in"?new w2(t,a):i==="array-contains-any"?new R2(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new T2(t,a):new A2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends OE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return ME(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(r){return r.op==="and"}function VE(r){return v2(r)&&ME(r)}function v2(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function rm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(VE(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function xE(r,t){return r instanceof Me?(function(a,l){return l instanceof Me&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(r,t):r instanceof Di?(function(a,l){return l instanceof Di&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&xE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function UE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(r):"Filter"}class E2 extends Me{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class T2 extends Me{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class A2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class S2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&xl(i.arrayValue,this.value)}}class b2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class w2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class R2 extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xl(this.value.arrayValue,a)))}}class I2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Nv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new I2(r,t,i,a,l,c,d)}function Pm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function km(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!_2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Cv(r.startAt,t.startAt)&&Cv(r.endAt,t.endAt)}function am(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C2(r,t,i,a,l,c,d,p){return new gh(r,t,i,a,l,c,d,p)}function Lm(r){return new gh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function N2(r){return r.collectionGroup!==null}function Rl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new eh(Fe.keyField(),a))}return t.Ie}function bi(r){const t=At(r);return t.Ee||(t.Ee=D2(t,Rl(r))),t.Ee}function D2(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function om(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return km(bi(r),bi(t))&&r.limitType===t.limitType}function kE(r){return`${Pm(bi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>UE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${a})`})(bi(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Iv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,p,_){const y=Iv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Rl(a),l))})(r,t)}function O2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LE(r){return(t,i)=>{let a=!1;for(const l of Rl(r)){const c=M2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function M2(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Ja(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}const V2=new oe(gt.comparator);function rs(){return V2}const zE=new oe(gt.comparator);function _l(...r){let t=zE;for(const i of r)t=t.insert(i.key,i);return t}function jE(r){let t=zE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return Il()}function BE(){return Il()}function Il(){return new Yr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const x2=new oe(gt.comparator),U2=new Ve(gt.comparator);function Vt(...r){let t=U2;for(const i of r)t=t.add(i);return t}const P2=new Ve(Mt);function k2(){return P2}function zm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function qE(r){return{integerValue:""+r}}function L2(r,t){return c2(t)?qE(t):zm(r,t)}class _h{constructor(){this._=void 0}}function z2(r,t,i){return r instanceof nh?(function(l,c){const d={fields:{[wE]:{stringValue:bE},[IE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&xm(c)&&(c=mh(c)),c&&(d.fields[RE]=c),{mapValue:d}})(i,t):r instanceof to?GE(r,t):r instanceof Ul?FE(r,t):(function(l,c){const d=HE(l,c),p=Ov(d)+Ov(l.Ae);return sm(d)&&sm(l.Ae)?qE(p):zm(l.serializer,p)})(r,t)}function j2(r,t,i){return r instanceof to?GE(r,t):r instanceof Ul?FE(r,t):i}function HE(r,t){return r instanceof ih?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends _h{}class to extends _h{constructor(t){super(),this.elements=t}}function GE(r,t){const i=YE(t);for(const a of r.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends _h{constructor(t){super(),this.elements=t}}function FE(r,t){let i=YE(t);for(const a of r.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class ih extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return ge(r.integerValue||r.doubleValue)}function YE(r){return Um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class B2{constructor(t,i){this.field=t,this.transform=i}}function q2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof to&&l instanceof to||a instanceof Ul&&l instanceof Ul?Za(a.elements,l.elements,Ni):a instanceof ih&&l instanceof ih?Ni(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,t.transform)}class H2{constructor(t,i){this.version=t,this.transformResults=i}}class wi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function QE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new XE(r.key,wi.none()):new Fl(r.key,r.data,wi.none());{const i=r.data,a=dn.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ar(r.key,a,new bn(l.toArray()),wi.none())}}function G2(r,t,i){r instanceof Fl?(function(l,c,d){const p=l.value.clone(),_=Vv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ar?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Vv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(KE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,a){return r instanceof Fl?(function(c,d,p,_){if(!zc(c.precondition,d))return p;const y=c.value.clone(),A=xv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ar?(function(c,d,p,_){if(!zc(c.precondition,d))return p;const y=xv(c.fieldTransforms,_,d),A=d.data;return A.setAll(KE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function F2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=HE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>q2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ar extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function KE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,j2(d,p,i[l]))}return a}function xv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,z2(c,d,t))}return a}class XE extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2 extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&G2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=BE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=QE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return x2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jm(t,i,a,l)}}class K2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class X2{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function $2(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function $E(r){if(r===void 0)return ss("GRPC error has no .code"),Z.UNKNOWN;switch(r){case we.OK:return Z.OK;case we.CANCELLED:return Z.CANCELLED;case we.UNKNOWN:return Z.UNKNOWN;case we.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case we.INTERNAL:return Z.INTERNAL;case we.UNAVAILABLE:return Z.UNAVAILABLE;case we.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case we.NOT_FOUND:return Z.NOT_FOUND;case we.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case we.ABORTED:return Z.ABORTED;case we.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case we.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Z2(){return new TextEncoder}const J2=new Xs([4294967295,4294967295],0);function Uv(r){const t=Z2().encode(r),i=new hE;return i.update(t),new Uint8Array(i.digest())}function Pv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,a],0),new Xs([l,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(a<0)throw new vl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Xs.fromNumber(a)));return l.compare(J2)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,l]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(Et.min(),l,new oe(Mt),rs(),Vt())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,Vt(),Vt(),Vt())}}class jc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ZE{constructor(t,i){this.targetId=t,this.Ce=i}}class JE{constructor(t,i,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class kv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Lv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class W2{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.Je=Nc(),this.He=Nc(),this.Ye=new oe(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new gt(c.path);this.et(i,d,$e.newNoDocument(d,Et.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=er(a).toUint8Array()}catch(_){if(_ instanceof SE)return $a("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Bm(d,l,c)}catch(_){return $a(_ instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,a);return this.je=rs(),this.Je=Nc(),this.He=Nc(),this.Ye=new oe(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new kv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new oe(gt.comparator)}function Lv(){return new oe(gt.comparator)}const tI={asc:"ASCENDING",desc:"DESCENDING"},eI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"};class iI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function sI(r,t){return sh(r,t.toTimestamp())}function Ri(r){return Ht(!!r,49232),Et.fromTimestamp((function(i){const a=tr(i);return new ne(a.seconds,a.nanos)})(r))}function qm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function tT(r){const t=ee.fromString(r);return Ht(rT(t),10190,{key:t.toString()}),t}function cm(r,t){return qm(r.databaseId,t.path)}function Hd(r,t){const i=tT(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(nT(i))}function eT(r,t){return qm(r.databaseId,t)}function rI(r){const t=tT(r);return t.length===4?ee.emptyPath():nT(t)}function hm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function aI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:$E(y.code);return new ct(A,y.message||"")})(d);i=new JE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):Et.min(),p=new dn({mapValue:{fields:a.document.fields}}),_=$e.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new jc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(r,a.document),c=a.readTime?Ri(a.readTime):Et.min(),d=$e.newNoDocument(l,c),p=a.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(r,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new X2(l,c),p=a.targetId;i=new ZE(p,d)}}return i}function oI(r,t){let i;if(t instanceof Fl)i={update:zv(r,t.key,t.value)};else if(t instanceof XE)i={delete:cm(r,t.key)};else if(t instanceof ar)i={update:zv(r,t.key,t.data),updateMask:pI(t.fieldMask)};else{if(!(t instanceof Y2))return yt(16599,{Vt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof to)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function lI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(Et.min())&&(d=Ri(c)),new H2(d,l.transformResults||[])})(i,t)))):[]}function uI(r,t){return{documents:[eT(r,t.path)]}}function cI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=eT(r,l);const c=(function(y){if(y.length!==0)return sT(Di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(V){return{field:ja(V.field),direction:dI(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function hI(r){let t=rI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const V=iT(b);return V instanceof Di&&VE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(Y){return new eh(Ba(Y.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,dh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(b){const V=!!b.before,G=b.values||[];return new th(G,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const V=!b.before,G=b.values||[];return new th(G,V)})(i.endAt)),C2(t,l,d,c,p,"F",_,y)}function fI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>iT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function dI(r){return tI[r]}function mI(r){return eI[r]}function gI(r){return nI[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Fe.fromServerFormat(r.fieldPath)}function sT(r){return r instanceof Me?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:mI(i.op),value:i.value}}})(r):r instanceof Di?(function(i){const a=i.getFilters().map((l=>sT(l)));return a.length===1?a[0]:{compositeFilter:{op:gI(i.op),filters:a}}})(r):yt(54877,{filter:r})}function pI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function rT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Fs{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class yI{constructor(t){this.yt=t}}function _I(r){const t=hI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}class vI{constructor(){this.Cn=new EI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ws.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class EI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(aT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const Bv="LruGarbageCollector",TI=1048576;function qv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class AI{constructor(t){this.Ir=t,this.buffer=new Ve(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){lo(i)?rt(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await oo(i)}await this.Vr(3e5)}))}}class bI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(fh.ce);const a=new AI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),La()<=Ot.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function wI(r,t){return new bI(r,t)}class RI{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class II{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class CI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,bn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=_l();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=rs();const d=Il(),p=(function(){return Il()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof ar)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Cl(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new II(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Il();let l=new oe(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||bn.empty();A=p.applyToLocalView(y,A),a.set(_,A);const b=(l.get(p.batchId)||Vt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=BE();A.forEach((V=>{if(!c.has(V)){const G=QE(i.get(V),a.get(V));G!==null&&b.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):N2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(zr());let p=Ol,_=c;return d.next((y=>X.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((A=>({batchId:p,changes:jE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=_l();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,V){return new gh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let p=_l();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Cl(A.mutation,y,bn.empty(),ne.now()),yh(i,y)&&(p=p.insert(_,y))})),p}))}}class NI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:_I(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),X.resolve()}}class DI{constructor(){this.overlays=new oe(gt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=zr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=zr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new K2(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class OI{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Hm{constructor(){this.Qr=new Ve(ke.$r),this.Ur=new Ve(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new ee([])),a=new ke(i,t),l=new ke(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ee([])),a=new ke(i,t),l=new ke(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class MI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(ke.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Q2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Mt);return i.forEach((l=>{const c=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new ke(new gt(c),0);let p=new Ve(Mt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new ke(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class VI{constructor(t){this.ri=t,this.docs=(function(){return new oe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=rs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=rs();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||a2(r2(A),a)<=0||(l.has(A.key)||yh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new xI(this)}getSize(t){return X.resolve(this.size)}}class xI extends RI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class UI{constructor(t){this.persistence=t,this.si=new Yr((i=>Pm(i)),km),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class oT{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new OI,this.referenceDelegate=t(this),this.Pi=new UI(this),this.indexManager=new vI,this.remoteDocumentCache=(function(l){return new VI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new yI(i),this.Ii=new NI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new DI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new MI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new PI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class PI extends l2{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Gm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new Yr((a=>h2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=wI(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(t,i.fromCache,a,l)}}class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class LI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wS()?8:u2(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new kI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(La()<=Ot.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(La()<=Ot.DEBUG&&rt("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(La()<=Ot.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}ys(t,i){if(Dv(i))return X.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Dv(i)||l.isEqual(Et.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(La()<=Ot.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,s2(l,Ol)).next((p=>p)))}))}Ds(t,i){let a=new Ve(LE(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return La()<=Ot.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Ws.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",zI=3e8;class jI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Mt),this.xs=new Yr((c=>Pm(c)),km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function BI(r,t,i,a){return new jI(r,t,i,a)}async function lT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function qI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,V=b.keys();let G=X.resolve();return V.forEach((Y=>{G=G.next((()=>A.getEntry(_,Y))).next((W=>{const J=y.docVersions.get(Y);Ht(J!==null,48541),W.version.compareTo(J)<0&&(b.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),A.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function uT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function HI(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const V=l.get(b);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(Ye.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(b,G),(function(W,J,lt){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=zI?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(V,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let _=rs(),y=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(GI(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function GI(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=rs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(Ym,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function FI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function YI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!lo(d))throw d;rt(Ym,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Hv(r,t,i){const a=At(r);let l=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=At(_),V=b.xs.get(A);return V!==void 0?X.resolve(b.Ms.get(V)):b.Pi.getTargetData(y,A)})(a,d,bi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Vt()))).next((p=>(QI(a,O2(t),p),{documents:p,Qs:c})))))}function QI(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Gv{constructor(){this.activeTargetIds=k2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KI{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class XI{Oo(t){}shutdown(){}}const Fv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function dm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Gd="RestConnection",$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=dm(),p=this.zo(t,i.toUriEncodedString());rt(Gd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=io(y);return this.Jo(t,p,_,a,A).then((b=>(rt(Gd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw $a(Gd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=$I[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class JI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class WI extends ZI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=dm();return new Promise(((p,_)=>{const y=new fE;y.setWithCredentials(!0),y.listenOnce(dE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Pc.TIMEOUT:rt(Ke,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=y.getStatus();if(rt(Ke,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Y=G?.error;if(Y&&Y.status&&Y.message){const W=(function(lt){const dt=lt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(dt)>=0?dt:Z.UNKNOWN})(Y.status);_(new ct(W,Y.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ke,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=pE(),p=gE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let V=!1,G=!1;const Y=new JI({Yo:J=>{G?rt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(rt(Ke,`Opening RPC '${t}' stream ${l} transport.`),b.open(),V=!0),rt(Ke,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),W=(J,lt,dt)=>{J.listen(lt,(ht=>{try{dt(ht)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return W(b,yl.EventType.OPEN,(()=>{G||(rt(Ke,`RPC '${t}' stream ${l} transport opened.`),Y.o_())})),W(b,yl.EventType.CLOSE,(()=>{G||(G=!0,rt(Ke,`RPC '${t}' stream ${l} transport closed`),Y.a_(),this.E_(b))})),W(b,yl.EventType.ERROR,(J=>{G||(G=!0,$a(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Y.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),W(b,yl.EventType.MESSAGE,(J=>{if(!G){const lt=J.data[0];Ht(!!lt,16349);const dt=lt,ht=dt?.error||dt[0]?.error;if(ht){rt(Ke,`RPC '${t}' stream ${l} received error:`,ht);const qt=ht.status;let et=(function(S){const w=we[S];if(w!==void 0)return $E(w)})(qt),st=ht.message;et===void 0&&(et=Z.INTERNAL,st="Unknown error status: "+qt+" with message "+ht.message),G=!0,Y.a_(new ct(et,st)),b.close()}else rt(Ke,`RPC '${t}' stream ${l} received:`,lt),Y.u_(lt)}})),W(p,mE.STAT_EVENT,(J=>{J.stat===em.PROXY?rt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===em.NOPROXY&&rt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function Th(r){return new iI(r,!0)}class cT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Qv="PersistentStream";class hT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tC extends hT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=aI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ri(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=am(_)?{documents:uI(c,_)}:{query:cI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=WE(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=sh(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=fI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class eC extends hT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=lI(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>oI(this.serializer,a)))};this.q_(i)}}class nC{}class iC extends nC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,um(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fr="RemoteStore";class rC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(rt(Fr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Ql(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Ra=new sC(a,l)}}async function Ah(r){if(Qr(r))for(const t of r.da)await t(!0)}async function Ql(r){for(const t of r.da)await t(!1)}function fT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):uo(i).O_()&&Km(i,t))}function Qm(r,t){const i=At(r),a=uo(i);i.Ia.delete(t),a.O_()&&dT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Ra.set("Unknown"))}function Km(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(r).Y_(t)}function dT(r,t){r.Va.Ue(t),uo(r).Z_(t)}function Xm(r){r.Va=new W2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Ra.ua()}function $m(r){return Qr(r)&&!uo(r).x_()&&r.Ia.size>0}function Qr(r){return At(r).Ea.size===0}function mT(r){r.Va=void 0}async function aC(r){r.Ra.set("Online")}async function oC(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function lC(r,t){mT(r),$m(r)?(r.Ra.ha(t),Xm(r)):r.Ra.set("Unknown")}async function uC(r,t,i){if(r.Ra.set("Online"),t instanceof JE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof jc?r.Va.Ze(t):t instanceof ZE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await uT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),dT(c,_);const b=new Fs(A.target,_,y,A.sequenceNumber);Km(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Fr,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!lo(t))throw t;r.Ea.add(1),await Ql(r),r.Ra.set("Offline"),i||(i=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Fr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function gT(r,t){return t().catch((i=>ah(r,i,t)))}async function Sh(r){const t=At(r),i=ir(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;cC(t);)try{const l=await FI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,hC(t,l)}catch(l){await ah(t,l)}pT(t)&&yT(t)}function cC(r){return Qr(r)&&r.Ta.length<10}function hC(r,t){r.Ta.push(t);const i=ir(r);i.O_()&&i.X_&&i.ea(t.mutations)}function pT(r){return Qr(r)&&!ir(r).x_()&&r.Ta.length>0}function yT(r){ir(r).start()}async function fC(r){ir(r).ra()}async function dC(r){const t=ir(r);for(const i of r.Ta)t.ea(i.mutations)}async function mC(r,t,i){const a=r.Ta.shift(),l=jm.from(a,t,i);await gT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function gC(r,t){t&&ir(r).X_&&await(async function(a,l){if((function(d){return $2(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();ir(a).B_(),await gT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(r,t),pT(r)&&yT(r)}async function Kv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Fr,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await Ql(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function pC(r,t){const i=At(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new tC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:aC.bind(null,r),t_:oC.bind(null,r),r_:lC.bind(null,r),H_:uC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),mT(r))}))),r.ma}function ir(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new eC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:fC.bind(null,r),r_:gC.bind(null,r),ta:dC.bind(null,r),na:mC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Fr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Zm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(ss("AsyncQueue",`${t}: ${r}`),lo(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=_l(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new oe(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class no{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class yC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _C{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=$v(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function $v(){return new Yr((r=>kE(r)),ph)}async function vC(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new yC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Jm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function EC(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function TC(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Wm(i)}function AC(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var mm,Zv;(Zv=mm||(mm={})).Ma="default",Zv.Cache="cache";class SC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new no(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class _T{constructor(t){this.key=t}}class vT{constructor(t){this.key=t}}class bC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=LE(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const V=l.get(A),G=yh(this.query,b)?b:null,Y=!!V&&this.mutatedKeys.has(V.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;V&&G?V.data.isEqual(G.data)?Y!==W&&(a.track({type:3,doc:G}),J=!0):this.su(V,G)||(a.track({type:2,doc:G}),J=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!V&&G?(a.track({type:0,doc:G}),J=!0):V&&!G&&(a.track({type:1,doc:V}),J=!0,(_||y)&&(p=!0)),J&&(G?(d=d.add(G),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,Y){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return W(G)-W(Y)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new vT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new _T(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class wC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class RC{constructor(t){this.key=t,this.hu=!1}}class IC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>kE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new oe(gt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CC(r,t,i=!0){const a=wT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ET(a,t,i,!0),l}async function NC(r,t){const i=wT(r);await ET(i,t,!0,!1)}async function ET(r,t,i,a){const l=await YI(r.localStore,bi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await DC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&fT(r.remoteStore,l),p}async function DC(r,t,i,a,l){r.pu=(b,V,G)=>(async function(W,J,lt,dt){let ht=J.view.ru(lt);ht.Cs&&(ht=await Hv(W.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,ht))));const qt=dt&&dt.targetChanges.get(J.targetId),et=dt&&dt.targetMismatches.get(J.targetId)!=null,st=J.view.applyChanges(ht,W.isPrimaryClient,qt,et);return Wv(W,J.targetId,st.au),st.snapshot})(r,b,V,G);const c=await Hv(r.localStore,t,!0),d=new bC(t,c.Qs),p=d.ru(c.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);Wv(r,i,y.au);const A=new wC(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function OC(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(oo)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function MC(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function VC(r,t,i){const a=jC(r);try{const l=await(function(d,p){const _=At(d),y=ne.now(),A=p.reduce(((G,Y)=>G.add(Y.key)),Vt());let b,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Y=rs(),W=Vt();return _.Ns.getEntries(G,A).next((J=>{Y=J,Y.forEach(((lt,dt)=>{dt.isValidDocument()||(W=W.add(lt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,Y))).next((J=>{b=J;const lt=[];for(const dt of p){const ht=F2(dt,b.get(dt.key).overlayedDocument);ht!=null&&lt.push(new ar(dt.key,ht,DE(ht.value.mapValue),wi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,lt,p)})).next((J=>{V=J;const lt=J.applyToLocalDocumentSet(b,W);return _.documentOverlayCache.saveOverlays(G,J.batchId,lt)}))})).then((()=>({batchId:V.batchId,changes:jE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Mt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Kl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function TT(r,t){const i=At(r);try{const a=await HI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await oo(a)}}function Jv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const V of b.Sa)V.va(p)&&(y=!0)})),y&&Wm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function xC(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(gt.comparator);d=d.insert(c,$e.newNoDocument(c,Et.min()));const p=Vt().add(c),_=new Eh(Et.min(),new Map,new oe(Mt),d,p);await TT(a,_),a.du=a.du.remove(c),a.Au.delete(t),eg(a)}else await fm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(oo)}async function UC(r,t){const i=At(r),a=t.batch.batchId;try{const l=await qI(i.localStore,t);ST(i,a,null),AT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await oo(l)}}async function PC(r,t,i){const a=At(r);try{const l=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Ht(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);ST(a,t,i),AT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await oo(l)}}function AT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ST(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||bT(r,a)}))}function bT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),eg(r))}function Wv(r,t,i){for(const a of i)a instanceof _T?(r.Ru.addReference(a.key,t),kC(r,a)):a instanceof vT?(rt(tg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||bT(r,a.key)):yt(19791,{wu:a})}function kC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(tg,"New document in limbo: "+i),r.Eu.add(a),eg(r))}function eg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(ee.fromString(t)),a=r.fu.next();r.Au.set(a,new RC(i)),r.du=r.du.insert(i,a),fT(r.remoteStore,new Fs(bi(Lm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Kl(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Fm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(V=>X.forEach(V.Es,(G=>A.persistence.referenceDelegate.addReference(b,V.targetId,G))).next((()=>X.forEach(V.ds,(G=>A.persistence.referenceDelegate.removeReference(b,V.targetId,G)))))))))}catch(b){if(!lo(b))throw b;rt(Ym,"Failed to update sequence numbers: "+b)}for(const b of y){const V=b.targetId;if(!b.fromCache){const G=A.Ms.get(V),Y=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(Y);A.Ms=A.Ms.insert(V,W)}}})(a.localStore,c))}async function LC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt(tg,"User change. New user:",t.toKey());const a=await lT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ls)}}function zC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function wT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.Pu.H_=TC.bind(null,t.eventManager),t.Pu.yu=AC.bind(null,t.eventManager),t}function jC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return BI(this.persistence,new LI,t.initialUser,this.serializer)}Cu(t){return new oT(Gm.mi,this.serializer)}Du(t){return new KI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class BC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new SI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new oT((a=>rh.mi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=LC.bind(null,this.syncEngine),await pC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _C})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new WI(c)})(t.databaseInfo);return(function(c,d,p,_){return new iC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new rC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new XI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new IC(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(Fr,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class qC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const sr="FirestoreClient";class HC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(sr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await lT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await GC(r);rt(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Kv(t.remoteStore,l))),r._onlineComponents=t}async function GC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(sr,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new oh)}}else rt(sr,"Using default OfflineComponentProvider"),await Yd(r,new BC(void 0));return r._offlineComponents}async function RT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(sr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(rt(sr,"Using default OnlineComponentProvider"),await t0(r,new pm))),r._onlineComponents}function FC(r){return RT(r).then((t=>t.syncEngine))}async function e0(r){const t=await RT(r),i=t.eventManager;return i.onListen=CC.bind(null,t.syncEngine),i.onUnlisten=OC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=NC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=MC.bind(null,t.syncEngine),i}function IT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const CT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TI)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}i2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new QR;switch(a.type){case"firstParty":return new ZR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(rt("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function YC(r,t,i,a={}){r=$s(r,bh);const l=io(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(R0(`https://${p}`),I0("Firestore",!0)),c.host!==CT&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Js(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=pS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}r._authCredentials=new KR(new _E(y,A))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Ie._jsonSchema))return new Ie(t,a||null,new gt(ee.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Re("string",Ie._jsonSchemaVersion),referencePath:Re("string")};class Zs extends wh{constructor(t,i,a){super(t,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new gt(t))}withConverter(t){return new Zs(this.firestore,t,this._path)}}function r0(r,t,...i){if(r=Je(r),vE("collection","path",t),r instanceof bh){const a=ee.fromString(t,...i);return yv(a),new Zs(r,null,a)}{if(!(r instanceof Ie||r instanceof Zs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return yv(a),new Zs(r.firestore,null,a)}}function El(r,t,...i){if(r=Je(r),arguments.length===1&&(t=Om.newId()),vE("doc","path",t),r instanceof bh){const a=ee.fromString(t,...i);return pv(a),new Ie(r,null,new gt(a))}{if(!(r instanceof Ie||r instanceof Zs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return pv(a),new Ie(r.firestore,r instanceof Zs?r.converter:null,new gt(a))}}const a0="AsyncQueue";class o0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&rt(a0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lo(t))throw t;rt(a0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function u0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Pl extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new o0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new o0(t),this._firestoreClient=void 0,await t}}}function QC(r,t){const i=typeof r=="object"?r:O0(),a=typeof r=="string"?r:Jc,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=mS("firestore");c&&YC(l,...c)}return l}function NT(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KC(r),r._firestoreClient}function KC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new m2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,IT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new HC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ye.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Re("string",zn._jsonSchemaVersion),bytes:Re("string")};class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._methodName=t}}class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Re("string",Ii._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ci(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Re("string",Ci._jsonSchemaVersion),vectorValues:Re("object")};const XC=/^__.*__$/;class $C{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class DT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function OT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Ch{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ch({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(OT(this.Ac)&&XC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,l=!1){return new Ch({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new ZC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function JC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ig("Data must be an object, but it was:",d,a);const p=VT(a,d);let _,y;if(c.merge)_=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const V=ym(t,b,i);if(!d.contains(V))throw new ct(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);UT(A,V)||A.push(V)}_=new bn(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new $C(new dn(p),_,y)}class Nh extends Ih{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function WC(r,t,i){return new Ch({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ng extends Ih{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=WC(this,t,!0),a=this.vc.map((c=>Xl(c,i))),l=new to(a);return new B2(t.path,l)}isEqual(t){return t instanceof ng&&Js(this.vc,t.vc)}}function tN(r,t,i,a){const l=r.Cc(1,t,i);ig("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();rr(a,((_,y)=>{const A=sg(t,_,i);y=Je(y);const b=l.yc(A);if(y instanceof Nh)c.push(A);else{const V=Xl(y,b);V!=null&&(c.push(A),d.set(A,V))}}));const p=new bn(c);return new DT(d,p,l.fieldTransforms)}function eN(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[ym(t,a,i)],_=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(ym(t,c[V])),_.push(c[V+1]);const y=[],A=dn.empty();for(let V=p.length-1;V>=0;--V)if(!UT(y,p[V])){const G=p[V];let Y=_[V];Y=Je(Y);const W=d.yc(G);if(Y instanceof Nh)y.push(G);else{const J=Xl(Y,W);J!=null&&(y.push(G),A.set(G,J))}}const b=new bn(y);return new DT(A,b,d.fieldTransforms)}function Xl(r,t){if(xT(r=Je(r)))return ig("Unsupported field value:",t,r),VT(r,t);if(r instanceof Ih)return(function(a,l){if(!OT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Xl(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return L2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:WE(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ci)return(function(d,p){return{mapValue:{fields:{[CE]:{stringValue:NE},[Wc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return zm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Mm(a)}`)})(r,t)}function VT(r,t){const i={};return AE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rr(r,((a,l)=>{const c=Xl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function xT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Ii||r instanceof zn||r instanceof Ie||r instanceof Ih||r instanceof Ci)}function ig(r,t,i){if(!xT(i)||!EE(i)){const a=Mm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function ym(r,t,i){if((t=Je(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return sg(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const nN=new RegExp("[~\\*/\\[\\]]");function sg(r,t,i){if(t.search(nN)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct(Z.INVALID_ARGUMENT,p+r+_)}function UT(r,t){return r.some((i=>i.isEqual(t)))}class PT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(kT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iN extends PT{data(){return super.data()}}function kT(r,t){return typeof t=="string"?sg(r,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}function sN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rN{convertValue(t,i="none"){switch(nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return rr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ci(i)}convertGeoPoint(t){return new Ii(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=tr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Ht(rT(a),9688,{name:t});const l=new Vl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function aN(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Tl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Br extends PT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(kT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Re("string",Br._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Bc extends Br{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Tl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:oN(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function oN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Re("string",Ka._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class LT extends rN{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function lN(r,t,i){r=$s(r,Ie);const a=$s(r.firestore,Pl),l=aN(r.converter,t);return zT(a,[JC(MT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,wi.none())])}function Sn(r,t,i,...a){r=$s(r,Ie);const l=$s(r.firestore,Pl),c=MT(l);let d;return d=typeof(t=Je(t))=="string"||t instanceof Rh?eN(c,"updateDoc",r._key,t,i,a):tN(c,"updateDoc",r._key,t),zT(l,[d.toMutation(r._key,wi.exists(!0))])}function c0(r,...t){r=Je(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||u0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(u0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Ie)d=$s(r.firestore,Pl),p=Lm(r._key.path),c={next:_=>{t[a]&&t[a](uN(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=$s(r,wh);d=$s(_.firestore,Pl),p=_._query;const y=new LT(d);c={next:A=>{t[a]&&t[a](new Ka(d,y,_,A))},error:t[a+1],complete:t[a+2]},sN(r._query)}return(function(y,A,b,V){const G=new qC(V),Y=new SC(A,G,b);return y.asyncQueue.enqueueAndForget((async()=>vC(await e0(y),Y))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>EC(await e0(y),Y)))}})(NT(d),p,l,c)}function zT(r,t){return(function(a,l){const c=new jr;return a.asyncQueue.enqueueAndForget((async()=>VC(await FC(a),l,c))),c.promise})(NT(r),t)}function uN(r,t,i){const a=i.docs.get(t._key),l=new LT(r);return new Br(r,l,t._key,a,new Tl(i.hasPendingWrites,i.fromCache),t.converter)}function hn(...r){return new ng("arrayUnion",r)}(function(t,i=!0){(function(l){ao=l})(so),Xa(new qr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Pl(new XR(a.getProvider("auth-internal")),new JR(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ks(fv,dv,t),Ks(fv,dv,"esm2020")})();const cN=()=>{try{if(typeof __firebase_config<"u"&&__firebase_config)return JSON.parse(__firebase_config);const r=localStorage.getItem("milanopoly_firebase_config");if(r)return JSON.parse(r)}catch(r){console.error("Errore parsing config:",r)}return null},h0=cN(),qa=typeof __app_id<"u"?__app_id:"default-app-id";let $i,Al,jT=!1;if(h0)try{const r=D0(h0);Al=FR(r),$i=QC(r),jT=!0}catch(r){console.error("Firebase init error:",r)}const f0=24,d0=1500,m0=200,qc=120,g0=100,Oc=[{id:0,name:"VIA!",type:"CORNER",color:"bg-green-100"},{id:1,name:"Via Padova",type:"PROPERTY",price:60,rent:4,group:"brown",color:"bg-amber-800"},{id:2,name:"Viale Monza",type:"PROPERTY",price:60,rent:4,group:"brown",color:"bg-amber-800"},{id:3,name:"Tassa Rifiuti",type:"TAX",amount:100,color:"bg-gray-200"},{id:4,name:"Stazione Centrale",type:"STATION",price:200,rent:25,color:"bg-slate-800"},{id:5,name:"Porta Romana",type:"PROPERTY",price:100,rent:8,group:"light_blue",color:"bg-sky-300"},{id:6,name:"C.so Buenos Aires",type:"PROPERTY",price:120,rent:10,group:"light_blue",color:"bg-sky-300"},{id:7,name:"Prigione",type:"CORNER",color:"bg-orange-100"},{id:8,name:"Navigli",type:"PROPERTY",price:140,rent:14,group:"pink",color:"bg-fuchsia-400"},{id:9,name:"Darsena",type:"PROPERTY",price:160,rent:16,group:"pink",color:"bg-fuchsia-400"},{id:10,name:"Metro M1",type:"STATION",price:200,rent:25,color:"bg-red-600"},{id:11,name:"Brera",type:"PROPERTY",price:180,rent:18,group:"orange",color:"bg-orange-500"},{id:12,name:"Via Solferino",type:"PROPERTY",price:200,rent:20,group:"orange",color:"bg-orange-500"},{id:13,name:"Parcheggio",type:"CORNER",color:"bg-blue-100"},{id:14,name:"City Life",type:"PROPERTY",price:220,rent:22,group:"red",color:"bg-red-500"},{id:15,name:"P.zza Gae Aulenti",type:"PROPERTY",price:240,rent:24,group:"red",color:"bg-red-500"},{id:16,name:"Metro M5",type:"STATION",price:200,rent:25,color:"bg-purple-600"},{id:17,name:"Castello Sforzesco",type:"PROPERTY",price:260,rent:26,group:"yellow",color:"bg-yellow-400"},{id:18,name:"Parco Sempione",type:"PROPERTY",price:280,rent:28,group:"yellow",color:"bg-yellow-400"},{id:19,name:"Andare in Prigione",type:"CORNER",color:"bg-gray-800 text-white"},{id:20,name:"Galleria V.E.",type:"PROPERTY",price:300,rent:30,group:"green",color:"bg-green-600"},{id:21,name:"Area C",type:"TAX",amount:200,color:"bg-gray-300"},{id:22,name:"Piazza Duomo",type:"PROPERTY",price:350,rent:35,group:"blue",color:"bg-blue-800"},{id:23,name:"Via Montenapoleone",type:"PROPERTY",price:400,rent:50,group:"blue",color:"bg-blue-800"}],p0=["blue","red","green","yellow"],y0=({value:r,className:t})=>{const a=[P_,LA,jA,qA,GA,YA][r-1]||P_;return $.jsx(a,{className:t})},hN=()=>{const[r,t]=me.useState(""),[i,a]=me.useState(""),l=()=>{try{const c=JSON.parse(r);if(!c.apiKey||!c.projectId)throw new Error("Il JSON non sembra una configurazione Firebase valida (manca apiKey o projectId).");localStorage.setItem("milanopoly_firebase_config",JSON.stringify(c)),window.location.reload()}catch(c){a("JSON non valido: "+c.message)}};return $.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center p-4 font-sans",children:$.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-lg w-full",children:[$.jsxs("h1",{className:"text-2xl font-bold text-blue-900 mb-4 flex items-center gap-2",children:[$.jsx(eS,{})," Configurazione Firebase"]}),$.jsx("p",{className:"text-slate-600 mb-4 text-sm",children:"Sembra che tu stia eseguendo l'app in locale. Per il multiplayer, devi collegare il tuo progetto Firebase."}),$.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-500 mb-4 space-y-1",children:[$.jsxs("li",{children:["Vai su ",$.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-blue-600 underline",children:"Firebase Console"})]}),$.jsx("li",{children:"Crea un progetto e aggiungi una Web App"}),$.jsxs("li",{children:["Copia l'oggetto ",$.jsx("code",{children:"firebaseConfig"})," (quello con apiKey, authDomain, etc.)"]}),$.jsx("li",{children:"Incollalo qui sotto:"})]}),$.jsx("textarea",{className:"w-full h-40 p-3 border rounded font-mono text-xs bg-slate-50 mb-2",placeholder:'{ "apiKey": "...", "authDomain": "...", ... }',value:r,onChange:c=>t(c.target.value)}),i&&$.jsx("div",{className:"text-red-500 text-xs mb-4",children:i}),$.jsx("button",{onClick:l,className:"w-full py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 transition",children:"Salva e Riavvia"})]})})};function fN(){if(!jT)return $.jsx(hN,{});const[r,t]=me.useState(null),[i,a]=me.useState(null),[l,c]=me.useState(null),[d,p]=me.useState([]),[_,y]=me.useState("LOADING");me.useEffect(()=>Al?((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await Ow(Al,__initial_auth_token):await Rw(Al)}catch(W){console.error("Auth error:",W)}})(),xw(Al,W=>{t(W),W&&y("MENU")})):void 0,[]),me.useEffect(()=>(document.body.style.overscrollBehavior="none",()=>{document.body.style.overscrollBehavior="auto"}),[]),me.useEffect(()=>{if(!r||_!=="MENU"||!$i)return;const Y=r0($i,"artifacts",qa,"public","data","games"),W=c0(Y,J=>{const lt=J.docs.map(dt=>({id:dt.id,...dt.data()}));p(lt.filter(dt=>dt.status==="LOBBY"||dt.players.some(ht=>ht.uid===r.uid)))});return()=>W()},[r,_]),me.useEffect(()=>{if(!r||!i||!$i)return;const Y=El($i,"artifacts",qa,"public","data","games",i),W=c0(Y,J=>{if(J.exists()){const lt=J.data();c(lt),lt.status==="PLAYING"||lt.status==="GAME_OVER"?y("GAME"):y("LOBBY")}else a(null),y("MENU")});return()=>W()},[i,r]);const A=async(Y,W)=>{if(!Y)return;const J=El(r0($i,"artifacts",qa,"public","data","games")),lt={uid:r.uid,name:"Host "+r.uid.slice(0,4),color:p0[0],money:d0,position:0,properties:[],inJail:!1,isHost:!0};await lN(J,{hostId:r.uid,name:Y,maxPlayers:parseInt(W),status:"LOBBY",players:[lt],currentTurnIndex:0,turnExpiresAt:Date.now()+999999999,dice:[1,1],ownership:{},logs:["Partita creata. In attesa di giocatori..."],winner:null}),a(J.id)},b=async Y=>{const W=El($i,"artifacts",qa,"public","data","games",Y),J=d.find(dt=>dt.id===Y);if(!J)return;if(J.players.some(dt=>dt.uid===r.uid)){a(Y);return}if(J.players.length>=J.maxPlayers){alert("Partita piena!");return}const lt={uid:r.uid,name:"Player "+r.uid.slice(0,4),color:p0[J.players.length],money:d0,position:0,properties:[],inJail:!1,isHost:!1};await Sn(W,{players:hn(lt),logs:hn("Un nuovo giocatore si  unito!")}),a(Y)},V=async()=>{if(!l||l.hostId!==r.uid)return;const Y=El($i,"artifacts",qa,"public","data","games",i);await Sn(Y,{status:"PLAYING",turnExpiresAt:Date.now()+qc*1e3,logs:hn("La partita  iniziata! Buona fortuna.")})},G=async()=>{a(null),c(null),y("MENU")};return _==="LOADING"?$.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-100",children:"Caricamento..."}):_==="MENU"?$.jsx("div",{className:"min-h-screen bg-slate-100 p-4 flex flex-col items-center justify-center font-sans",children:$.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-6",children:[$.jsxs("h1",{className:"text-3xl font-black text-blue-800 mb-6 text-center flex items-center justify-center gap-2",children:[$.jsx(v0,{})," MilanoPoly Online"]}),$.jsxs("div",{className:"mb-8 border-b pb-6",children:[$.jsxs("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[$.jsx(WA,{size:18})," Crea Nuova Partita"]}),$.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),A(Y.target.gname.value,Y.target.gmax.value)},className:"space-y-3",children:[$.jsx("input",{name:"gname",placeholder:"Nome Partita (es. Tavolo 1)",className:"w-full p-2 border rounded",required:!0,maxLength:15}),$.jsxs("select",{name:"gmax",className:"w-full p-2 border rounded",children:[$.jsx("option",{value:"2",children:"2 Giocatori"}),$.jsx("option",{value:"3",children:"3 Giocatori"}),$.jsx("option",{value:"4",children:"4 Giocatori"})]}),$.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700",children:"Crea Stanza"})]})]}),$.jsxs("div",{children:[$.jsxs("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[$.jsx(rS,{size:18})," Unisciti a una Partita"]}),$.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[d.length===0&&$.jsx("p",{className:"text-gray-500 text-sm italic",children:"Nessuna partita trovata."}),d.map(Y=>$.jsxs("div",{className:"border p-3 rounded flex justify-between items-center bg-slate-50",children:[$.jsxs("div",{children:[$.jsx("div",{className:"font-bold",children:Y.name}),$.jsxs("div",{className:"text-xs text-gray-500",children:[Y.players.length,"/",Y.maxPlayers," Giocatori  ",Y.status]})]}),$.jsx("button",{onClick:()=>b(Y.id),className:"px-3 py-1 bg-green-500 text-white text-sm rounded font-bold hover:bg-green-600",children:Y.players.some(W=>W.uid===r.uid)?"Rientra":"Entra"})]},Y.id))]})]}),$.jsx("div",{className:"mt-6 text-center",children:$.jsx("button",{onClick:()=>{localStorage.removeItem("milanopoly_firebase_config"),window.location.reload()},className:"text-xs text-slate-400 hover:text-red-500 underline",children:"Reset Configurazione Firebase"})})]})}):_==="LOBBY"?$.jsx("div",{className:"min-h-screen bg-slate-100 p-4 flex flex-col items-center justify-center font-sans",children:$.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-6 text-center",children:[$.jsx("h2",{className:"text-2xl font-bold mb-2",children:l?.name}),$.jsx("p",{className:"text-gray-500 mb-6",children:"In attesa che l'host avvii la partita..."}),$.jsxs("div",{className:"space-y-2 mb-6 text-left",children:[l?.players.map((Y,W)=>$.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded",children:[$.jsx("div",{className:`w-3 h-3 rounded-full bg-${Y.color}-600`}),$.jsx("span",{className:"font-bold",children:Y.name}),Y.isHost&&$.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 rounded-full",children:"HOST"}),Y.uid===r.uid&&$.jsx("span",{className:"text-xs text-gray-400",children:"(Tu)"})]},W)),Array.from({length:l.maxPlayers-l.players.length}).map((Y,W)=>$.jsx("div",{className:"p-2 border-dashed border-2 border-gray-200 rounded text-gray-400 text-sm",children:"Slot Vuoto"},`empty-${W}`))]}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx("button",{onClick:G,className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded font-bold",children:"Esci"}),l?.hostId===r.uid&&$.jsxs("button",{onClick:V,disabled:l.players.length<2,className:"flex-1 py-2 bg-blue-600 disabled:bg-blue-300 text-white rounded font-bold flex items-center justify-center gap-2",children:[$.jsx(ZA,{size:16})," Start"]})]})]})}):$.jsx(dN,{gameData:l,user:r,activeGameId:i,leaveGame:G})}function dN({gameData:r,user:t,activeGameId:i,leaveGame:a}){const[l,c]=me.useState(qc),d=me.useRef(null),p=r.players.findIndex(et=>et.uid===t.uid),_=r.currentTurnIndex===p,y=r.players[r.currentTurnIndex];me.useEffect(()=>{const et=setInterval(()=>{if(r.status!=="PLAYING")return;const st=Math.max(0,Math.ceil((r.turnExpiresAt-Date.now())/1e3));c(st),st<=0&&_&&V()},1e3);return()=>clearInterval(et)},[r,_]),me.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[r.logs]);const A=El($i,"artifacts",qa,"public","data","games",i),b=async(et=[])=>{const st=(r.currentTurnIndex+1)%r.players.length;await Sn(A,{currentTurnIndex:st,turnExpiresAt:Date.now()+qc*1e3,logs:hn(...et)})},V=async()=>{const et=["TEMPO SCADUTO! Penalit di "+g0+"."],st=[...r.players];st[p].money-=g0,st[p].money<0&&et.push(st[p].name+"  andato in bancarotta!"),await Sn(A,{players:st,currentTurnIndex:(r.currentTurnIndex+1)%r.players.length,turnExpiresAt:Date.now()+qc*1e3,logs:hn(...et)})},G=async()=>{if(!_)return;const et=Math.floor(Math.random()*6)+1,st=Math.floor(Math.random()*6)+1,R=et+st;let S=r.players[p].position+R,w=r.players[p].money,M=[`${y.name} ha tirato ${R} (${et}+${st})`];S>=f0&&(S=S%f0,w+=m0,M.push("Passato dal VIA! +"+m0));const N=[...r.players];N[p].position=S,N[p].money=w,await Sn(A,{dice:[et,st],players:N,logs:hn(...M)}),setTimeout(()=>Y(S,N),500)},Y=async(et,st)=>{const R=Oc[et];let S={},w=[`Atterrato su: ${R.name}`];if(R.type==="TAX"){st[p].money-=R.amount,w.push(`Pagata tassa di ${R.amount}`),S={players:st,logs:hn(...w)},await Sn(A,S),await b();return}if(R.type==="PROPERTY"||R.type==="STATION"){const M=r.ownership[R.id];if(M===void 0){await Sn(A,{logs:hn(...w)});return}else if(M!==t.uid){const N=st.find(x=>x.uid===M);if(N){st[p].money-=R.rent;const x=st.findIndex(I=>I.uid===M);st[x].money+=R.rent,w.push(`Pagato affitto di ${R.rent} a ${N.name}`),await Sn(A,{players:st,logs:hn(...w)})}await b();return}else{w.push("Propriet gi tua."),await Sn(A,{logs:hn(...w)}),await b();return}}if(R.id===19){st[p].position=7,w.push("In Prigione!"),await Sn(A,{players:st,logs:hn(...w)}),await b();return}await Sn(A,{logs:hn(...w)}),await b()},W=async()=>{const et=r.players[p],st=Oc[et.position];if(et.money<st.price)return;const R=[...r.players];R[p].money-=st.price,R[p].properties.push(st.id);const S={...r.ownership,[st.id]:t.uid};await Sn(A,{players:R,ownership:S,logs:hn(`${et.name} ha comprato ${st.name}!`)}),await b()},J=async()=>{await Sn(A,{logs:hn(`${y.name} ha deciso di non comprare.`)}),await b()},lt=et=>et>=0&&et<=6?{row:7,col:7-et}:et>=7&&et<=12?{row:7-(et-6),col:1}:et>=13&&et<=18?{row:1,col:1+(et-12)}:et>=19&&et<=23?{row:1+(et-18),col:7}:{row:4,col:4},dt=({space:et})=>{const st=r.ownership[et.id],R=r.players.find(x=>x.uid===st),S=r.players.filter(x=>x.position===et.id),w=lt(et.id),M=et.type==="PROPERTY";let N="border-gray-300";return R&&(N=`border-${R.color}-500 ring-2 ring-${R.color}-500 ring-inset`),$.jsxs("div",{className:`relative flex flex-col items-center justify-between p-1 border ${N} bg-white text-[10px] md:text-xs shadow-sm transition-all select-none`,style:{gridRow:w.row,gridColumn:w.col},children:[M&&$.jsx("div",{className:`w-full h-2 md:h-4 ${et.color} mb-1 border-b border-black/10`}),$.jsxs("div",{className:"text-center font-bold leading-tight px-1 flex-grow flex items-center justify-center text-[8px] md:text-[10px]",children:[et.type==="STATION"&&$.jsx(iS,{size:12,className:"mb-1 mx-auto text-slate-600"}),et.type==="TAX"&&$.jsx(VA,{size:12,className:"mb-1 mx-auto text-gray-600"}),et.id===0?"PARTENZA":et.name]}),$.jsx("div",{className:"mt-1 font-mono text-gray-500 text-[8px]",children:M||et.type==="STATION"?`${et.price}`:""}),$.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex space-x-1 pointer-events-none z-10",children:S.map(x=>$.jsx("div",{className:`w-3 h-3 md:w-5 md:h-5 rounded-full border border-white shadow bg-${x.color}-600`},x.uid))})]})},ht=Oc[y.position],qt=_&&(ht.type==="PROPERTY"||ht.type==="STATION")&&!r.ownership[ht.id]&&y.money>=ht.price&&r.logs[r.logs.length-1]?.includes("Atterrato su");return $.jsxs("div",{className:"min-h-[100dvh] bg-slate-100 font-sans text-slate-900 flex flex-col md:flex-row overflow-hidden select-none overscroll-none",children:[$.jsxs("div",{className:"w-full md:w-80 bg-white border-r border-slate-200 p-4 flex flex-col shadow-xl z-20 pt-safe-top",children:[$.jsxs("div",{className:"flex justify-between items-center mb-4",children:[$.jsxs("h1",{className:"text-xl font-black text-blue-800 flex items-center gap-2",children:[$.jsx(v0,{size:20})," MilanoPoly"]}),$.jsxs("button",{onClick:a,className:"text-xs text-red-500 flex items-center gap-1",children:[$.jsx(KA,{size:12})," Esci"]})]}),$.jsx("div",{className:"space-y-2 mb-4",children:r.players.map((et,st)=>$.jsxs("div",{className:`p-2 rounded-lg border flex justify-between items-center ${r.currentTurnIndex===st?"border-blue-500 bg-blue-50 ring-1 ring-blue-500":"border-slate-200 opacity-70"}`,children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("div",{className:`w-3 h-3 rounded-full bg-${et.color}-600`}),$.jsxs("span",{className:"font-bold text-sm truncate w-20",children:[et.name," ",et.uid===t.uid&&"(Tu)"]})]}),$.jsxs("div",{className:"font-mono font-bold text-green-600",children:["",et.money]})]},et.uid))}),$.jsxs("div",{className:`text-center p-2 rounded mb-2 font-bold text-white ${l<30?"bg-red-500 animate-pulse":"bg-slate-800"}`,children:[$.jsxs("div",{className:"flex items-center justify-center gap-2",children:[$.jsx(UA,{size:16})," ",Math.floor(l/60),":",(l%60).toString().padStart(2,"0")]}),$.jsx("div",{className:"text-xs font-normal opacity-80",children:_?" il tuo turno!":`Turno di ${y.name}`})]}),$.jsxs("div",{className:"flex-grow flex flex-col items-center justify-start p-2 bg-slate-50 rounded-lg border border-slate-200 mb-4",children:[$.jsxs("div",{className:"flex gap-4 mb-4",children:[$.jsx(y0,{value:r.dice[0],className:"w-10 h-10 text-indigo-600 bg-white rounded p-1 border shadow"}),$.jsx(y0,{value:r.dice[1],className:"w-10 h-10 text-indigo-600 bg-white rounded p-1 border shadow"})]}),_?qt?$.jsxs("div",{className:"flex gap-2 w-full",children:[$.jsxs("button",{onClick:W,className:"flex-1 py-3 bg-green-500 text-white font-bold rounded shadow hover:bg-green-600",children:["COMPRA (",ht.price,")"]}),$.jsx("button",{onClick:J,className:"flex-1 py-3 bg-gray-400 text-white font-bold rounded shadow hover:bg-gray-500",children:"PASSA"})]}):$.jsx("button",{onClick:G,disabled:r.logs[r.logs.length-1]?.includes("Atterrato"),className:"w-full py-3 bg-blue-600 text-white font-bold rounded shadow hover:bg-blue-700 disabled:opacity-50",children:"LANCIA DADI"}):$.jsx("div",{className:"text-sm text-gray-500 italic",children:"Attendi il tuo turno..."})]}),$.jsxs("div",{className:"h-24 bg-white border border-slate-300 rounded overflow-hidden flex flex-col text-xs",children:[$.jsx("div",{className:"bg-slate-100 px-2 py-1 font-bold border-b text-gray-500",children:"Log"}),$.jsx("div",{ref:d,className:"flex-1 overflow-y-auto p-2 space-y-1",children:r.logs.map((et,st)=>$.jsx("div",{className:"border-b last:border-0 pb-1",children:et},st))})]})]}),$.jsx("div",{className:"flex-grow bg-slate-200 p-2 flex items-center justify-center pb-safe-bottom",children:$.jsxs("div",{className:"grid gap-1 bg-slate-300 p-1 md:p-4 shadow-2xl rounded-xl border-4 border-slate-400 relative",style:{width:"min(90vw, 600px)",height:"min(90vw, 600px)",gridTemplateColumns:"repeat(7, 1fr)",gridTemplateRows:"repeat(7, 1fr)"},children:[$.jsxs("div",{className:"bg-white rounded-lg flex flex-col items-center justify-center text-center p-4 opacity-90",style:{gridArea:"2 / 2 / 7 / 7"},children:[$.jsx("div",{className:"text-4xl md:text-5xl font-black text-indigo-900 tracking-tighter opacity-10 rotate-12 absolute select-none",children:"MILANO"}),$.jsx("h2",{className:"text-xl font-bold text-slate-800 relative z-10",children:"MILANOPOLY ONLINE"}),$.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Stanza: ",r.name]}),$.jsxs("div",{className:"text-[10px] text-slate-400 mt-4",children:["Codice: ",i.slice(0,6),"..."]})]}),Oc.map(et=>$.jsx(dt,{space:et},et.id))]})})]})}RA.createRoot(document.getElementById("root")).render($.jsx(me.StrictMode,{children:$.jsx(fN,{})}));
